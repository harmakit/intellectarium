/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var lg=Object.create;var zt=Object.defineProperty,cg=Object.defineProperties,ug=Object.getOwnPropertyDescriptor,fg=Object.getOwnPropertyDescriptors,pg=Object.getOwnPropertyNames,Mo=Object.getOwnPropertySymbols,dg=Object.getPrototypeOf,Fo=Object.prototype.hasOwnProperty,mg=Object.prototype.propertyIsEnumerable;var qo=(e,t,r)=>t in e?zt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ht=(e,t)=>{for(var r in t||(t={}))Fo.call(t,r)&&qo(e,r,t[r]);if(Mo)for(var r of Mo(t))mg.call(t,r)&&qo(e,r,t[r]);return e},Ar=(e,t)=>cg(e,fg(t));var g=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),gg=(e,t)=>{for(var r in t)zt(e,r,{get:t[r],enumerable:!0})},ko=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of pg(t))!Fo.call(e,i)&&i!==r&&zt(e,i,{get:()=>t[i],enumerable:!(n=ug(t,i))||n.enumerable});return e};var nt=(e,t,r)=>(r=e!=null?lg(dg(e)):{},ko(t||!e||!e.__esModule?zt(r,"default",{value:e,enumerable:!0}):r,e)),hg=e=>ko(zt({},"__esModule",{value:!0}),e);var te=(e,t,r)=>new Promise((n,i)=>{var o=l=>{try{s(r.next(l))}catch(c){i(c)}},a=l=>{try{s(r.throw(l))}catch(c){i(c)}},s=l=>l.done?n(l.value):Promise.resolve(l.value).then(o,a);s((r=r.apply(e,t)).next())});var $n=g((MC,na)=>{var qg=typeof global=="object"&&global&&global.Object===Object&&global;na.exports=qg});var Oe=g((qC,ia)=>{var Fg=$n(),kg=typeof self=="object"&&self&&self.Object===Object&&self,Dg=Fg||kg||Function("return this")();ia.exports=Dg});var it=g((FC,oa)=>{var Ig=Oe(),Ng=Ig.Symbol;oa.exports=Ng});var ca=g((kC,la)=>{var aa=it(),sa=Object.prototype,Lg=sa.hasOwnProperty,jg=sa.toString,Xt=aa?aa.toStringTag:void 0;function Rg(e){var t=Lg.call(e,Xt),r=e[Xt];try{e[Xt]=void 0;var n=!0}catch(o){}var i=jg.call(e);return n&&(t?e[Xt]=r:delete e[Xt]),i}la.exports=Rg});var fa=g((DC,ua)=>{var Hg=Object.prototype,Vg=Hg.toString;function Bg(e){return Vg.call(e)}ua.exports=Bg});var bt=g((IC,ma)=>{var pa=it(),Gg=ca(),zg=fa(),Ug="[object Null]",Wg="[object Undefined]",da=pa?pa.toStringTag:void 0;function $g(e){return e==null?e===void 0?Wg:Ug:da&&da in Object(e)?Gg(e):zg(e)}ma.exports=$g});var We=g((NC,ga)=>{function Yg(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}ga.exports=Yg});var Yn=g((LC,ha)=>{var Kg=bt(),Zg=We(),Xg="[object AsyncFunction]",Qg="[object Function]",Jg="[object GeneratorFunction]",eh="[object Proxy]";function th(e){if(!Zg(e))return!1;var t=Kg(e);return t==Qg||t==Jg||t==Xg||t==eh}ha.exports=th});var ya=g((jC,va)=>{var rh=Oe(),nh=rh["__core-js_shared__"];va.exports=nh});var wa=g((RC,ba)=>{var Kn=ya(),_a=function(){var e=/[^.]+$/.exec(Kn&&Kn.keys&&Kn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function ih(e){return!!_a&&_a in e}ba.exports=ih});var Zn=g((HC,xa)=>{var oh=Function.prototype,ah=oh.toString;function sh(e){if(e!=null){try{return ah.call(e)}catch(t){}try{return e+""}catch(t){}}return""}xa.exports=sh});var Ca=g((VC,Sa)=>{var lh=Yn(),ch=wa(),uh=We(),fh=Zn(),ph=/[\\^$.*+?()[\]{}|]/g,dh=/^\[object .+?Constructor\]$/,mh=Function.prototype,gh=Object.prototype,hh=mh.toString,vh=gh.hasOwnProperty,yh=RegExp("^"+hh.call(vh).replace(ph,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _h(e){if(!uh(e)||ch(e))return!1;var t=lh(e)?yh:dh;return t.test(fh(e))}Sa.exports=_h});var Pa=g((BC,Ea)=>{function bh(e,t){return e==null?void 0:e[t]}Ea.exports=bh});var $e=g((GC,Oa)=>{var wh=Ca(),xh=Pa();function Sh(e,t){var r=xh(e,t);return wh(r)?r:void 0}Oa.exports=Sh});var Qt=g((zC,Ta)=>{var Ch=$e(),Eh=Ch(Object,"create");Ta.exports=Eh});var qa=g((UC,Ma)=>{var Aa=Qt();function Ph(){this.__data__=Aa?Aa(null):{},this.size=0}Ma.exports=Ph});var ka=g((WC,Fa)=>{function Oh(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}Fa.exports=Oh});var Ia=g(($C,Da)=>{var Th=Qt(),Ah="__lodash_hash_undefined__",Mh=Object.prototype,qh=Mh.hasOwnProperty;function Fh(e){var t=this.__data__;if(Th){var r=t[e];return r===Ah?void 0:r}return qh.call(t,e)?t[e]:void 0}Da.exports=Fh});var La=g((YC,Na)=>{var kh=Qt(),Dh=Object.prototype,Ih=Dh.hasOwnProperty;function Nh(e){var t=this.__data__;return kh?t[e]!==void 0:Ih.call(t,e)}Na.exports=Nh});var Ra=g((KC,ja)=>{var Lh=Qt(),jh="__lodash_hash_undefined__";function Rh(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Lh&&t===void 0?jh:t,this}ja.exports=Rh});var Va=g((ZC,Ha)=>{var Hh=qa(),Vh=ka(),Bh=Ia(),Gh=La(),zh=Ra();function wt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wt.prototype.clear=Hh;wt.prototype.delete=Vh;wt.prototype.get=Bh;wt.prototype.has=Gh;wt.prototype.set=zh;Ha.exports=wt});var Ga=g((XC,Ba)=>{function Uh(){this.__data__=[],this.size=0}Ba.exports=Uh});var Jt=g((QC,za)=>{function Wh(e,t){return e===t||e!==e&&t!==t}za.exports=Wh});var er=g((JC,Ua)=>{var $h=Jt();function Yh(e,t){for(var r=e.length;r--;)if($h(e[r][0],t))return r;return-1}Ua.exports=Yh});var $a=g((e3,Wa)=>{var Kh=er(),Zh=Array.prototype,Xh=Zh.splice;function Qh(e){var t=this.__data__,r=Kh(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():Xh.call(t,r,1),--this.size,!0}Wa.exports=Qh});var Ka=g((t3,Ya)=>{var Jh=er();function ev(e){var t=this.__data__,r=Jh(t,e);return r<0?void 0:t[r][1]}Ya.exports=ev});var Xa=g((r3,Za)=>{var tv=er();function rv(e){return tv(this.__data__,e)>-1}Za.exports=rv});var Ja=g((n3,Qa)=>{var nv=er();function iv(e,t){var r=this.__data__,n=nv(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}Qa.exports=iv});var tr=g((i3,es)=>{var ov=Ga(),av=$a(),sv=Ka(),lv=Xa(),cv=Ja();function xt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xt.prototype.clear=ov;xt.prototype.delete=av;xt.prototype.get=sv;xt.prototype.has=lv;xt.prototype.set=cv;es.exports=xt});var jr=g((o3,ts)=>{var uv=$e(),fv=Oe(),pv=uv(fv,"Map");ts.exports=pv});var is=g((a3,ns)=>{var rs=Va(),dv=tr(),mv=jr();function gv(){this.size=0,this.__data__={hash:new rs,map:new(mv||dv),string:new rs}}ns.exports=gv});var as=g((s3,os)=>{function hv(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}os.exports=hv});var rr=g((l3,ss)=>{var vv=as();function yv(e,t){var r=e.__data__;return vv(t)?r[typeof t=="string"?"string":"hash"]:r.map}ss.exports=yv});var cs=g((c3,ls)=>{var _v=rr();function bv(e){var t=_v(this,e).delete(e);return this.size-=t?1:0,t}ls.exports=bv});var fs=g((u3,us)=>{var wv=rr();function xv(e){return wv(this,e).get(e)}us.exports=xv});var ds=g((f3,ps)=>{var Sv=rr();function Cv(e){return Sv(this,e).has(e)}ps.exports=Cv});var gs=g((p3,ms)=>{var Ev=rr();function Pv(e,t){var r=Ev(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}ms.exports=Pv});var Rr=g((d3,hs)=>{var Ov=is(),Tv=cs(),Av=fs(),Mv=ds(),qv=gs();function St(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}St.prototype.clear=Ov;St.prototype.delete=Tv;St.prototype.get=Av;St.prototype.has=Mv;St.prototype.set=qv;hs.exports=St});var Qn=g((m3,ys)=>{var vs=Rr(),Fv="Expected a function";function Xn(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Fv);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a)||o,a};return r.cache=new(Xn.Cache||vs),r}Xn.Cache=vs;ys.exports=Xn});var Hr=g((g3,_s)=>{function kv(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}_s.exports=kv});var Ye=g((h3,bs)=>{function Dv(e){return e!=null&&typeof e=="object"}bs.exports=Dv});var xs=g((v3,ws)=>{var Iv=bt(),Nv=Ye(),Lv="[object Arguments]";function jv(e){return Nv(e)&&Iv(e)==Lv}ws.exports=jv});var Vr=g((y3,Es)=>{var Ss=xs(),Rv=Ye(),Cs=Object.prototype,Hv=Cs.hasOwnProperty,Vv=Cs.propertyIsEnumerable,Bv=Ss(function(){return arguments}())?Ss:function(e){return Rv(e)&&Hv.call(e,"callee")&&!Vv.call(e,"callee")};Es.exports=Bv});var xe=g((_3,Ps)=>{var Gv=Array.isArray;Ps.exports=Gv});var Ms=g((b3,As)=>{var Os=it(),zv=Vr(),Uv=xe(),Ts=Os?Os.isConcatSpreadable:void 0;function Wv(e){return Uv(e)||zv(e)||!!(Ts&&e&&e[Ts])}As.exports=Wv});var ks=g((w3,Fs)=>{var $v=Hr(),Yv=Ms();function qs(e,t,r,n,i){var o=-1,a=e.length;for(r||(r=Yv),i||(i=[]);++o<a;){var s=e[o];t>0&&r(s)?t>1?qs(s,t-1,r,n,i):$v(i,s):n||(i[i.length]=s)}return i}Fs.exports=qs});var Jn=g((x3,Ds)=>{function Kv(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}Ds.exports=Kv});var nr=g((S3,Is)=>{var Zv=bt(),Xv=Ye(),Qv="[object Symbol]";function Jv(e){return typeof e=="symbol"||Xv(e)&&Zv(e)==Qv}Is.exports=Jv});var Br=g((C3,Ns)=>{var ey=xe(),ty=nr(),ry=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ny=/^\w*$/;function iy(e,t){if(ey(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||ty(e)?!0:ny.test(e)||!ry.test(e)||t!=null&&e in Object(t)}Ns.exports=iy});var js=g((E3,Ls)=>{var oy=Qn(),ay=500;function sy(e){var t=oy(e,function(n){return r.size===ay&&r.clear(),n}),r=t.cache;return t}Ls.exports=sy});var Hs=g((P3,Rs)=>{var ly=js(),cy=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,uy=/\\(\\)?/g,fy=ly(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(cy,function(r,n,i,o){t.push(i?o.replace(uy,"$1"):n||r)}),t});Rs.exports=fy});var Ws=g((O3,Us)=>{var Vs=it(),py=Jn(),dy=xe(),my=nr(),gy=1/0,Bs=Vs?Vs.prototype:void 0,Gs=Bs?Bs.toString:void 0;function zs(e){if(typeof e=="string")return e;if(dy(e))return py(e,zs)+"";if(my(e))return Gs?Gs.call(e):"";var t=e+"";return t=="0"&&1/e==-gy?"-0":t}Us.exports=zs});var Gr=g((T3,$s)=>{var hy=Ws();function vy(e){return e==null?"":hy(e)}$s.exports=vy});var ei=g((A3,Ys)=>{var yy=xe(),_y=Br(),by=Hs(),wy=Gr();function xy(e,t){return yy(e)?e:_y(e,t)?[e]:by(wy(e))}Ys.exports=xy});var ir=g((M3,Ks)=>{var Sy=nr(),Cy=1/0;function Ey(e){if(typeof e=="string"||Sy(e))return e;var t=e+"";return t=="0"&&1/e==-Cy?"-0":t}Ks.exports=Ey});var zr=g((q3,Zs)=>{var Py=ei(),Oy=ir();function Ty(e,t){t=Py(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Oy(t[r++])];return r&&r==n?e:void 0}Zs.exports=Ty});var Qs=g((F3,Xs)=>{var Ay=tr();function My(){this.__data__=new Ay,this.size=0}Xs.exports=My});var el=g((k3,Js)=>{function qy(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}Js.exports=qy});var rl=g((D3,tl)=>{function Fy(e){return this.__data__.get(e)}tl.exports=Fy});var il=g((I3,nl)=>{function ky(e){return this.__data__.has(e)}nl.exports=ky});var al=g((N3,ol)=>{var Dy=tr(),Iy=jr(),Ny=Rr(),Ly=200;function jy(e,t){var r=this.__data__;if(r instanceof Dy){var n=r.__data__;if(!Iy||n.length<Ly-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Ny(n)}return r.set(e,t),this.size=r.size,this}ol.exports=jy});var Ur=g((L3,sl)=>{var Ry=tr(),Hy=Qs(),Vy=el(),By=rl(),Gy=il(),zy=al();function Ct(e){var t=this.__data__=new Ry(e);this.size=t.size}Ct.prototype.clear=Hy;Ct.prototype.delete=Vy;Ct.prototype.get=By;Ct.prototype.has=Gy;Ct.prototype.set=zy;sl.exports=Ct});var cl=g((j3,ll)=>{var Uy="__lodash_hash_undefined__";function Wy(e){return this.__data__.set(e,Uy),this}ll.exports=Wy});var fl=g((R3,ul)=>{function $y(e){return this.__data__.has(e)}ul.exports=$y});var dl=g((H3,pl)=>{var Yy=Rr(),Ky=cl(),Zy=fl();function Wr(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new Yy;++t<r;)this.add(e[t])}Wr.prototype.add=Wr.prototype.push=Ky;Wr.prototype.has=Zy;pl.exports=Wr});var gl=g((V3,ml)=>{function Xy(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}ml.exports=Xy});var vl=g((B3,hl)=>{function Qy(e,t){return e.has(t)}hl.exports=Qy});var ti=g((G3,yl)=>{var Jy=dl(),e_=gl(),t_=vl(),r_=1,n_=2;function i_(e,t,r,n,i,o){var a=r&r_,s=e.length,l=t.length;if(s!=l&&!(a&&l>s))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var p=-1,f=!0,d=r&n_?new Jy:void 0;for(o.set(e,t),o.set(t,e);++p<s;){var _=e[p],m=t[p];if(n)var h=a?n(m,_,p,t,e,o):n(_,m,p,e,t,o);if(h!==void 0){if(h)continue;f=!1;break}if(d){if(!e_(t,function(v,y){if(!t_(d,y)&&(_===v||i(_,v,r,n,o)))return d.push(y)})){f=!1;break}}else if(!(_===m||i(_,m,r,n,o))){f=!1;break}}return o.delete(e),o.delete(t),f}yl.exports=i_});var ri=g((z3,_l)=>{var o_=Oe(),a_=o_.Uint8Array;_l.exports=a_});var wl=g((U3,bl)=>{function s_(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}bl.exports=s_});var Sl=g((W3,xl)=>{function l_(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}xl.exports=l_});var Tl=g(($3,Ol)=>{var Cl=it(),El=ri(),c_=Jt(),u_=ti(),f_=wl(),p_=Sl(),d_=1,m_=2,g_="[object Boolean]",h_="[object Date]",v_="[object Error]",y_="[object Map]",__="[object Number]",b_="[object RegExp]",w_="[object Set]",x_="[object String]",S_="[object Symbol]",C_="[object ArrayBuffer]",E_="[object DataView]",Pl=Cl?Cl.prototype:void 0,ni=Pl?Pl.valueOf:void 0;function P_(e,t,r,n,i,o,a){switch(r){case E_:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C_:return!(e.byteLength!=t.byteLength||!o(new El(e),new El(t)));case g_:case h_:case __:return c_(+e,+t);case v_:return e.name==t.name&&e.message==t.message;case b_:case x_:return e==t+"";case y_:var s=f_;case w_:var l=n&d_;if(s||(s=p_),e.size!=t.size&&!l)return!1;var c=a.get(e);if(c)return c==t;n|=m_,a.set(e,t);var u=u_(s(e),s(t),n,i,o,a);return a.delete(e),u;case S_:if(ni)return ni.call(e)==ni.call(t)}return!1}Ol.exports=P_});var ii=g((Y3,Al)=>{var O_=Hr(),T_=xe();function A_(e,t,r){var n=t(e);return T_(e)?n:O_(n,r(e))}Al.exports=A_});var ql=g((K3,Ml)=>{function M_(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var a=e[r];t(a,r,e)&&(o[i++]=a)}return o}Ml.exports=M_});var oi=g((Z3,Fl)=>{function q_(){return[]}Fl.exports=q_});var $r=g((X3,Dl)=>{var F_=ql(),k_=oi(),D_=Object.prototype,I_=D_.propertyIsEnumerable,kl=Object.getOwnPropertySymbols,N_=kl?function(e){return e==null?[]:(e=Object(e),F_(kl(e),function(t){return I_.call(e,t)}))}:k_;Dl.exports=N_});var Nl=g((Q3,Il)=>{function L_(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}Il.exports=L_});var jl=g((J3,Ll)=>{function j_(){return!1}Ll.exports=j_});var Yr=g((or,Et)=>{var R_=Oe(),H_=jl(),Vl=typeof or=="object"&&or&&!or.nodeType&&or,Rl=Vl&&typeof Et=="object"&&Et&&!Et.nodeType&&Et,V_=Rl&&Rl.exports===Vl,Hl=V_?R_.Buffer:void 0,B_=Hl?Hl.isBuffer:void 0,G_=B_||H_;Et.exports=G_});var Kr=g((e8,Bl)=>{var z_=9007199254740991,U_=/^(?:0|[1-9]\d*)$/;function W_(e,t){var r=typeof e;return t=t==null?z_:t,!!t&&(r=="number"||r!="symbol"&&U_.test(e))&&e>-1&&e%1==0&&e<t}Bl.exports=W_});var Zr=g((t8,Gl)=>{var $_=9007199254740991;function Y_(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=$_}Gl.exports=Y_});var Ul=g((r8,zl)=>{var K_=bt(),Z_=Zr(),X_=Ye(),Q_="[object Arguments]",J_="[object Array]",eb="[object Boolean]",tb="[object Date]",rb="[object Error]",nb="[object Function]",ib="[object Map]",ob="[object Number]",ab="[object Object]",sb="[object RegExp]",lb="[object Set]",cb="[object String]",ub="[object WeakMap]",fb="[object ArrayBuffer]",pb="[object DataView]",db="[object Float32Array]",mb="[object Float64Array]",gb="[object Int8Array]",hb="[object Int16Array]",vb="[object Int32Array]",yb="[object Uint8Array]",_b="[object Uint8ClampedArray]",bb="[object Uint16Array]",wb="[object Uint32Array]",Y={};Y[db]=Y[mb]=Y[gb]=Y[hb]=Y[vb]=Y[yb]=Y[_b]=Y[bb]=Y[wb]=!0;Y[Q_]=Y[J_]=Y[fb]=Y[eb]=Y[pb]=Y[tb]=Y[rb]=Y[nb]=Y[ib]=Y[ob]=Y[ab]=Y[sb]=Y[lb]=Y[cb]=Y[ub]=!1;function xb(e){return X_(e)&&Z_(e.length)&&!!Y[K_(e)]}zl.exports=xb});var ar=g((n8,Wl)=>{function Sb(e){return function(t){return e(t)}}Wl.exports=Sb});var Xr=g((sr,Pt)=>{var Cb=$n(),$l=typeof sr=="object"&&sr&&!sr.nodeType&&sr,lr=$l&&typeof Pt=="object"&&Pt&&!Pt.nodeType&&Pt,Eb=lr&&lr.exports===$l,ai=Eb&&Cb.process,Pb=function(){try{var e=lr&&lr.require&&lr.require("util").types;return e||ai&&ai.binding&&ai.binding("util")}catch(t){}}();Pt.exports=Pb});var si=g((i8,Zl)=>{var Ob=Ul(),Tb=ar(),Yl=Xr(),Kl=Yl&&Yl.isTypedArray,Ab=Kl?Tb(Kl):Ob;Zl.exports=Ab});var li=g((o8,Xl)=>{var Mb=Nl(),qb=Vr(),Fb=xe(),kb=Yr(),Db=Kr(),Ib=si(),Nb=Object.prototype,Lb=Nb.hasOwnProperty;function jb(e,t){var r=Fb(e),n=!r&&qb(e),i=!r&&!n&&kb(e),o=!r&&!n&&!i&&Ib(e),a=r||n||i||o,s=a?Mb(e.length,String):[],l=s.length;for(var c in e)(t||Lb.call(e,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Db(c,l)))&&s.push(c);return s}Xl.exports=jb});var Qr=g((a8,Ql)=>{var Rb=Object.prototype;function Hb(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||Rb;return e===r}Ql.exports=Hb});var ci=g((s8,Jl)=>{function Vb(e,t){return function(r){return e(t(r))}}Jl.exports=Vb});var tc=g((l8,ec)=>{var Bb=ci(),Gb=Bb(Object.keys,Object);ec.exports=Gb});var nc=g((c8,rc)=>{var zb=Qr(),Ub=tc(),Wb=Object.prototype,$b=Wb.hasOwnProperty;function Yb(e){if(!zb(e))return Ub(e);var t=[];for(var r in Object(e))$b.call(e,r)&&r!="constructor"&&t.push(r);return t}rc.exports=Yb});var Ot=g((u8,ic)=>{var Kb=Yn(),Zb=Zr();function Xb(e){return e!=null&&Zb(e.length)&&!Kb(e)}ic.exports=Xb});var Tt=g((f8,oc)=>{var Qb=li(),Jb=nc(),e1=Ot();function t1(e){return e1(e)?Qb(e):Jb(e)}oc.exports=t1});var ui=g((p8,ac)=>{var r1=ii(),n1=$r(),i1=Tt();function o1(e){return r1(e,i1,n1)}ac.exports=o1});var cc=g((d8,lc)=>{var sc=ui(),a1=1,s1=Object.prototype,l1=s1.hasOwnProperty;function c1(e,t,r,n,i,o){var a=r&a1,s=sc(e),l=s.length,c=sc(t),u=c.length;if(l!=u&&!a)return!1;for(var p=l;p--;){var f=s[p];if(!(a?f in t:l1.call(t,f)))return!1}var d=o.get(e),_=o.get(t);if(d&&_)return d==t&&_==e;var m=!0;o.set(e,t),o.set(t,e);for(var h=a;++p<l;){f=s[p];var v=e[f],y=t[f];if(n)var b=a?n(y,v,f,t,e,o):n(v,y,f,e,t,o);if(!(b===void 0?v===y||i(v,y,r,n,o):b)){m=!1;break}h||(h=f=="constructor")}if(m&&!h){var w=e.constructor,E=t.constructor;w!=E&&"constructor"in e&&"constructor"in t&&!(typeof w=="function"&&w instanceof w&&typeof E=="function"&&E instanceof E)&&(m=!1)}return o.delete(e),o.delete(t),m}lc.exports=c1});var fc=g((m8,uc)=>{var u1=$e(),f1=Oe(),p1=u1(f1,"DataView");uc.exports=p1});var dc=g((g8,pc)=>{var d1=$e(),m1=Oe(),g1=d1(m1,"Promise");pc.exports=g1});var gc=g((h8,mc)=>{var h1=$e(),v1=Oe(),y1=h1(v1,"Set");mc.exports=y1});var vc=g((v8,hc)=>{var _1=$e(),b1=Oe(),w1=_1(b1,"WeakMap");hc.exports=w1});var cr=g((y8,Cc)=>{var fi=fc(),pi=jr(),di=dc(),mi=gc(),gi=vc(),Sc=bt(),At=Zn(),yc="[object Map]",x1="[object Object]",_c="[object Promise]",bc="[object Set]",wc="[object WeakMap]",xc="[object DataView]",S1=At(fi),C1=At(pi),E1=At(di),P1=At(mi),O1=At(gi),ot=Sc;(fi&&ot(new fi(new ArrayBuffer(1)))!=xc||pi&&ot(new pi)!=yc||di&&ot(di.resolve())!=_c||mi&&ot(new mi)!=bc||gi&&ot(new gi)!=wc)&&(ot=function(e){var t=Sc(e),r=t==x1?e.constructor:void 0,n=r?At(r):"";if(n)switch(n){case S1:return xc;case C1:return yc;case E1:return _c;case P1:return bc;case O1:return wc}return t});Cc.exports=ot});var Fc=g((_8,qc)=>{var hi=Ur(),T1=ti(),A1=Tl(),M1=cc(),Ec=cr(),Pc=xe(),Oc=Yr(),q1=si(),F1=1,Tc="[object Arguments]",Ac="[object Array]",Jr="[object Object]",k1=Object.prototype,Mc=k1.hasOwnProperty;function D1(e,t,r,n,i,o){var a=Pc(e),s=Pc(t),l=a?Ac:Ec(e),c=s?Ac:Ec(t);l=l==Tc?Jr:l,c=c==Tc?Jr:c;var u=l==Jr,p=c==Jr,f=l==c;if(f&&Oc(e)){if(!Oc(t))return!1;a=!0,u=!1}if(f&&!u)return o||(o=new hi),a||q1(e)?T1(e,t,r,n,i,o):A1(e,t,l,r,n,i,o);if(!(r&F1)){var d=u&&Mc.call(e,"__wrapped__"),_=p&&Mc.call(t,"__wrapped__");if(d||_){var m=d?e.value():e,h=_?t.value():t;return o||(o=new hi),i(m,h,r,n,o)}}return f?(o||(o=new hi),M1(e,t,r,n,i,o)):!1}qc.exports=D1});var vi=g((b8,Ic)=>{var I1=Fc(),kc=Ye();function Dc(e,t,r,n,i){return e===t?!0:e==null||t==null||!kc(e)&&!kc(t)?e!==e&&t!==t:I1(e,t,r,n,Dc,i)}Ic.exports=Dc});var Lc=g((w8,Nc)=>{var N1=Ur(),L1=vi(),j1=1,R1=2;function H1(e,t,r,n){var i=r.length,o=i,a=!n;if(e==null)return!o;for(e=Object(e);i--;){var s=r[i];if(a&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){s=r[i];var l=s[0],c=e[l],u=s[1];if(a&&s[2]){if(c===void 0&&!(l in e))return!1}else{var p=new N1;if(n)var f=n(c,u,l,e,t,p);if(!(f===void 0?L1(u,c,j1|R1,n,p):f))return!1}}return!0}Nc.exports=H1});var yi=g((x8,jc)=>{var V1=We();function B1(e){return e===e&&!V1(e)}jc.exports=B1});var Hc=g((S8,Rc)=>{var G1=yi(),z1=Tt();function U1(e){for(var t=z1(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,G1(i)]}return t}Rc.exports=U1});var _i=g((C8,Vc)=>{function W1(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}Vc.exports=W1});var Gc=g((E8,Bc)=>{var $1=Lc(),Y1=Hc(),K1=_i();function Z1(e){var t=Y1(e);return t.length==1&&t[0][2]?K1(t[0][0],t[0][1]):function(r){return r===e||$1(r,e,t)}}Bc.exports=Z1});var Uc=g((P8,zc)=>{var X1=zr();function Q1(e,t,r){var n=e==null?void 0:X1(e,t);return n===void 0?r:n}zc.exports=Q1});var $c=g((O8,Wc)=>{function J1(e,t){return e!=null&&t in Object(e)}Wc.exports=J1});var Kc=g((T8,Yc)=>{var e0=ei(),t0=Vr(),r0=xe(),n0=Kr(),i0=Zr(),o0=ir();function a0(e,t,r){t=e0(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var a=o0(t[n]);if(!(o=e!=null&&r(e,a)))break;e=e[a]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&i0(i)&&n0(a,i)&&(r0(e)||t0(e)))}Yc.exports=a0});var Xc=g((A8,Zc)=>{var s0=$c(),l0=Kc();function c0(e,t){return e!=null&&l0(e,t,s0)}Zc.exports=c0});var Jc=g((M8,Qc)=>{var u0=vi(),f0=Uc(),p0=Xc(),d0=Br(),m0=yi(),g0=_i(),h0=ir(),v0=1,y0=2;function _0(e,t){return d0(e)&&m0(t)?g0(h0(e),t):function(r){var n=f0(r,e);return n===void 0&&n===t?p0(r,e):u0(t,n,v0|y0)}}Qc.exports=_0});var ur=g((q8,eu)=>{function b0(e){return e}eu.exports=b0});var ru=g((F8,tu)=>{function w0(e){return function(t){return t==null?void 0:t[e]}}tu.exports=w0});var iu=g((k8,nu)=>{var x0=zr();function S0(e){return function(t){return x0(t,e)}}nu.exports=S0});var au=g((D8,ou)=>{var C0=ru(),E0=iu(),P0=Br(),O0=ir();function T0(e){return P0(e)?C0(O0(e)):E0(e)}ou.exports=T0});var lu=g((I8,su)=>{var A0=Gc(),M0=Jc(),q0=ur(),F0=xe(),k0=au();function D0(e){return typeof e=="function"?e:e==null?q0:typeof e=="object"?F0(e)?M0(e[0],e[1]):A0(e):k0(e)}su.exports=D0});var uu=g((N8,cu)=>{function I0(e){return function(t,r,n){for(var i=-1,o=Object(t),a=n(t),s=a.length;s--;){var l=a[e?s:++i];if(r(o[l],l,o)===!1)break}return t}}cu.exports=I0});var pu=g((L8,fu)=>{var N0=uu(),L0=N0();fu.exports=L0});var mu=g((j8,du)=>{var j0=pu(),R0=Tt();function H0(e,t){return e&&j0(e,t,R0)}du.exports=H0});var hu=g((R8,gu)=>{var V0=Ot();function B0(e,t){return function(r,n){if(r==null)return r;if(!V0(r))return e(r,n);for(var i=r.length,o=t?i:-1,a=Object(r);(t?o--:++o<i)&&n(a[o],o,a)!==!1;);return r}}gu.exports=B0});var yu=g((H8,vu)=>{var G0=mu(),z0=hu(),U0=z0(G0);vu.exports=U0});var bu=g((V8,_u)=>{var W0=yu(),$0=Ot();function Y0(e,t){var r=-1,n=$0(e)?Array(e.length):[];return W0(e,function(i,o,a){n[++r]=t(i,o,a)}),n}_u.exports=Y0});var xu=g((B8,wu)=>{function K0(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}wu.exports=K0});var Eu=g((G8,Cu)=>{var Su=nr();function Z0(e,t){if(e!==t){var r=e!==void 0,n=e===null,i=e===e,o=Su(e),a=t!==void 0,s=t===null,l=t===t,c=Su(t);if(!s&&!c&&!o&&e>t||o&&a&&l&&!s&&!c||n&&a&&l||!r&&l||!i)return 1;if(!n&&!o&&!c&&e<t||c&&r&&i&&!n&&!o||s&&r&&i||!a&&i||!l)return-1}return 0}Cu.exports=Z0});var Ou=g((z8,Pu)=>{var X0=Eu();function Q0(e,t,r){for(var n=-1,i=e.criteria,o=t.criteria,a=i.length,s=r.length;++n<a;){var l=X0(i[n],o[n]);if(l){if(n>=s)return l;var c=r[n];return l*(c=="desc"?-1:1)}}return e.index-t.index}Pu.exports=Q0});var Au=g((U8,Tu)=>{var bi=Jn(),J0=zr(),ew=lu(),tw=bu(),rw=xu(),nw=ar(),iw=Ou(),ow=ur(),aw=xe();function sw(e,t,r){t.length?t=bi(t,function(o){return aw(o)?function(a){return J0(a,o.length===1?o[0]:o)}:o}):t=[ow];var n=-1;t=bi(t,nw(ew));var i=tw(e,function(o,a,s){var l=bi(t,function(c){return c(o)});return{criteria:l,index:++n,value:o}});return rw(i,function(o,a){return iw(o,a,r)})}Tu.exports=sw});var qu=g((W8,Mu)=>{function lw(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}Mu.exports=lw});var Du=g(($8,ku)=>{var cw=qu(),Fu=Math.max;function uw(e,t,r){return t=Fu(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=Fu(n.length-t,0),a=Array(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),cw(e,this,s)}}ku.exports=uw});var Nu=g((Y8,Iu)=>{function fw(e){return function(){return e}}Iu.exports=fw});var wi=g((K8,Lu)=>{var pw=$e(),dw=function(){try{var e=pw(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();Lu.exports=dw});var Hu=g((Z8,Ru)=>{var mw=Nu(),ju=wi(),gw=ur(),hw=ju?function(e,t){return ju(e,"toString",{configurable:!0,enumerable:!1,value:mw(t),writable:!0})}:gw;Ru.exports=hw});var Bu=g((X8,Vu)=>{var vw=800,yw=16,_w=Date.now;function bw(e){var t=0,r=0;return function(){var n=_w(),i=yw-(n-r);if(r=n,i>0){if(++t>=vw)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}Vu.exports=bw});var zu=g((Q8,Gu)=>{var ww=Hu(),xw=Bu(),Sw=xw(ww);Gu.exports=Sw});var Wu=g((J8,Uu)=>{var Cw=ur(),Ew=Du(),Pw=zu();function Ow(e,t){return Pw(Ew(e,t,Cw),e+"")}Uu.exports=Ow});var Yu=g((e5,$u)=>{var Tw=Jt(),Aw=Ot(),Mw=Kr(),qw=We();function Fw(e,t,r){if(!qw(r))return!1;var n=typeof t;return(n=="number"?Aw(r)&&Mw(t,r.length):n=="string"&&t in r)?Tw(r[t],e):!1}$u.exports=Fw});var Xu=g((t5,Zu)=>{var kw=ks(),Dw=Au(),Iw=Wu(),Ku=Yu(),Nw=Iw(function(e,t){if(e==null)return[];var r=t.length;return r>1&&Ku(e,t[0],t[1])?t=[]:r>2&&Ku(t[0],t[1],t[2])&&(t=[t[0]]),Dw(e,kw(t,1),[])});Zu.exports=Nw});var hf=g((W5,gf)=>{function l2(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}gf.exports=l2});var qi=g(($5,yf)=>{var vf=wi();function c2(e,t,r){t=="__proto__"&&vf?vf(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}yf.exports=c2});var Fi=g((Y5,_f)=>{var u2=qi(),f2=Jt(),p2=Object.prototype,d2=p2.hasOwnProperty;function m2(e,t,r){var n=e[t];(!(d2.call(e,t)&&f2(n,r))||r===void 0&&!(t in e))&&u2(e,t,r)}_f.exports=m2});var mr=g((K5,bf)=>{var g2=Fi(),h2=qi();function v2(e,t,r,n){var i=!r;r||(r={});for(var o=-1,a=t.length;++o<a;){var s=t[o],l=n?n(r[s],e[s],s,r,e):void 0;l===void 0&&(l=e[s]),i?h2(r,s,l):g2(r,s,l)}return r}bf.exports=v2});var xf=g((Z5,wf)=>{var y2=mr(),_2=Tt();function b2(e,t){return e&&y2(t,_2(t),e)}wf.exports=b2});var Cf=g((X5,Sf)=>{function w2(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}Sf.exports=w2});var Pf=g((Q5,Ef)=>{var x2=We(),S2=Qr(),C2=Cf(),E2=Object.prototype,P2=E2.hasOwnProperty;function O2(e){if(!x2(e))return C2(e);var t=S2(e),r=[];for(var n in e)n=="constructor"&&(t||!P2.call(e,n))||r.push(n);return r}Ef.exports=O2});var an=g((J5,Of)=>{var T2=li(),A2=Pf(),M2=Ot();function q2(e){return M2(e)?T2(e,!0):A2(e)}Of.exports=q2});var Af=g((e9,Tf)=>{var F2=mr(),k2=an();function D2(e,t){return e&&F2(t,k2(t),e)}Tf.exports=D2});var Df=g((gr,qt)=>{var I2=Oe(),kf=typeof gr=="object"&&gr&&!gr.nodeType&&gr,Mf=kf&&typeof qt=="object"&&qt&&!qt.nodeType&&qt,N2=Mf&&Mf.exports===kf,qf=N2?I2.Buffer:void 0,Ff=qf?qf.allocUnsafe:void 0;function L2(e,t){if(t)return e.slice();var r=e.length,n=Ff?Ff(r):new e.constructor(r);return e.copy(n),n}qt.exports=L2});var Nf=g((t9,If)=>{function j2(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}If.exports=j2});var jf=g((r9,Lf)=>{var R2=mr(),H2=$r();function V2(e,t){return R2(e,H2(e),t)}Lf.exports=V2});var ki=g((n9,Rf)=>{var B2=ci(),G2=B2(Object.getPrototypeOf,Object);Rf.exports=G2});var Di=g((i9,Hf)=>{var z2=Hr(),U2=ki(),W2=$r(),$2=oi(),Y2=Object.getOwnPropertySymbols,K2=Y2?function(e){for(var t=[];e;)z2(t,W2(e)),e=U2(e);return t}:$2;Hf.exports=K2});var Bf=g((o9,Vf)=>{var Z2=mr(),X2=Di();function Q2(e,t){return Z2(e,X2(e),t)}Vf.exports=Q2});var zf=g((a9,Gf)=>{var J2=ii(),e4=Di(),t4=an();function r4(e){return J2(e,t4,e4)}Gf.exports=r4});var Wf=g((s9,Uf)=>{var n4=Object.prototype,i4=n4.hasOwnProperty;function o4(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&i4.call(e,"index")&&(r.index=e.index,r.input=e.input),r}Uf.exports=o4});var sn=g((l9,Yf)=>{var $f=ri();function a4(e){var t=new e.constructor(e.byteLength);return new $f(t).set(new $f(e)),t}Yf.exports=a4});var Zf=g((c9,Kf)=>{var s4=sn();function l4(e,t){var r=t?s4(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}Kf.exports=l4});var Qf=g((u9,Xf)=>{var c4=/\w*$/;function u4(e){var t=new e.constructor(e.source,c4.exec(e));return t.lastIndex=e.lastIndex,t}Xf.exports=u4});var np=g((f9,rp)=>{var Jf=it(),ep=Jf?Jf.prototype:void 0,tp=ep?ep.valueOf:void 0;function f4(e){return tp?Object(tp.call(e)):{}}rp.exports=f4});var op=g((p9,ip)=>{var p4=sn();function d4(e,t){var r=t?p4(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}ip.exports=d4});var sp=g((d9,ap)=>{var m4=sn(),g4=Zf(),h4=Qf(),v4=np(),y4=op(),_4="[object Boolean]",b4="[object Date]",w4="[object Map]",x4="[object Number]",S4="[object RegExp]",C4="[object Set]",E4="[object String]",P4="[object Symbol]",O4="[object ArrayBuffer]",T4="[object DataView]",A4="[object Float32Array]",M4="[object Float64Array]",q4="[object Int8Array]",F4="[object Int16Array]",k4="[object Int32Array]",D4="[object Uint8Array]",I4="[object Uint8ClampedArray]",N4="[object Uint16Array]",L4="[object Uint32Array]";function j4(e,t,r){var n=e.constructor;switch(t){case O4:return m4(e);case _4:case b4:return new n(+e);case T4:return g4(e,r);case A4:case M4:case q4:case F4:case k4:case D4:case I4:case N4:case L4:return y4(e,r);case w4:return new n;case x4:case E4:return new n(e);case S4:return h4(e);case C4:return new n;case P4:return v4(e)}}ap.exports=j4});var up=g((m9,cp)=>{var R4=We(),lp=Object.create,H4=function(){function e(){}return function(t){if(!R4(t))return{};if(lp)return lp(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();cp.exports=H4});var pp=g((g9,fp)=>{var V4=up(),B4=ki(),G4=Qr();function z4(e){return typeof e.constructor=="function"&&!G4(e)?V4(B4(e)):{}}fp.exports=z4});var mp=g((h9,dp)=>{var U4=cr(),W4=Ye(),$4="[object Map]";function Y4(e){return W4(e)&&U4(e)==$4}dp.exports=Y4});var yp=g((v9,vp)=>{var K4=mp(),Z4=ar(),gp=Xr(),hp=gp&&gp.isMap,X4=hp?Z4(hp):K4;vp.exports=X4});var bp=g((y9,_p)=>{var Q4=cr(),J4=Ye(),e6="[object Set]";function t6(e){return J4(e)&&Q4(e)==e6}_p.exports=t6});var Cp=g((_9,Sp)=>{var r6=bp(),n6=ar(),wp=Xr(),xp=wp&&wp.isSet,i6=xp?n6(xp):r6;Sp.exports=i6});var Ap=g((b9,Tp)=>{var o6=Ur(),a6=hf(),s6=Fi(),l6=xf(),c6=Af(),u6=Df(),f6=Nf(),p6=jf(),d6=Bf(),m6=ui(),g6=zf(),h6=cr(),v6=Wf(),y6=sp(),_6=pp(),b6=xe(),w6=Yr(),x6=yp(),S6=We(),C6=Cp(),E6=Tt(),P6=an(),O6=1,T6=2,A6=4,Ep="[object Arguments]",M6="[object Array]",q6="[object Boolean]",F6="[object Date]",k6="[object Error]",Pp="[object Function]",D6="[object GeneratorFunction]",I6="[object Map]",N6="[object Number]",Op="[object Object]",L6="[object RegExp]",j6="[object Set]",R6="[object String]",H6="[object Symbol]",V6="[object WeakMap]",B6="[object ArrayBuffer]",G6="[object DataView]",z6="[object Float32Array]",U6="[object Float64Array]",W6="[object Int8Array]",$6="[object Int16Array]",Y6="[object Int32Array]",K6="[object Uint8Array]",Z6="[object Uint8ClampedArray]",X6="[object Uint16Array]",Q6="[object Uint32Array]",W={};W[Ep]=W[M6]=W[B6]=W[G6]=W[q6]=W[F6]=W[z6]=W[U6]=W[W6]=W[$6]=W[Y6]=W[I6]=W[N6]=W[Op]=W[L6]=W[j6]=W[R6]=W[H6]=W[K6]=W[Z6]=W[X6]=W[Q6]=!0;W[k6]=W[Pp]=W[V6]=!1;function ln(e,t,r,n,i,o){var a,s=t&O6,l=t&T6,c=t&A6;if(r&&(a=i?r(e,n,i,o):r(e)),a!==void 0)return a;if(!S6(e))return e;var u=b6(e);if(u){if(a=v6(e),!s)return f6(e,a)}else{var p=h6(e),f=p==Pp||p==D6;if(w6(e))return u6(e,s);if(p==Op||p==Ep||f&&!i){if(a=l||f?{}:_6(e),!s)return l?d6(e,c6(a,e)):p6(e,l6(a,e))}else{if(!W[p])return i?e:{};a=y6(e,p,s)}}o||(o=new o6);var d=o.get(e);if(d)return d;o.set(e,a),C6(e)?e.forEach(function(h){a.add(ln(h,t,r,h,e,o))}):x6(e)&&e.forEach(function(h,v){a.set(v,ln(h,t,r,v,e,o))});var _=c?l?g6:m6:l?P6:E6,m=u?void 0:_(e);return a6(m||e,function(h,v){m&&(v=h,h=e[v]),s6(a,v,ln(h,t,r,v,e,o))}),a}Tp.exports=ln});var qp=g((w9,Mp)=>{var J6=Ap(),ex=1,tx=4;function rx(e){return J6(e,ex|tx)}Mp.exports=rx});var Vp=g((k9,Hp)=>{function lx(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}Hp.exports=lx});var Gp=g((D9,Bp)=>{var cx=Vp();function ux(e,t,r){var n=e.length;return r=r===void 0?n:r,!t&&r>=n?e:cx(e,t,r)}Bp.exports=ux});var Li=g((I9,zp)=>{var fx="\\ud800-\\udfff",px="\\u0300-\\u036f",dx="\\ufe20-\\ufe2f",mx="\\u20d0-\\u20ff",gx=px+dx+mx,hx="\\ufe0e\\ufe0f",vx="\\u200d",yx=RegExp("["+vx+fx+gx+hx+"]");function _x(e){return yx.test(e)}zp.exports=_x});var Wp=g((N9,Up)=>{function bx(e){return e.split("")}Up.exports=bx});var ed=g((L9,Jp)=>{var $p="\\ud800-\\udfff",wx="\\u0300-\\u036f",xx="\\ufe20-\\ufe2f",Sx="\\u20d0-\\u20ff",Cx=wx+xx+Sx,Ex="\\ufe0e\\ufe0f",Px="["+$p+"]",ji="["+Cx+"]",Ri="\\ud83c[\\udffb-\\udfff]",Ox="(?:"+ji+"|"+Ri+")",Yp="[^"+$p+"]",Kp="(?:\\ud83c[\\udde6-\\uddff]){2}",Zp="[\\ud800-\\udbff][\\udc00-\\udfff]",Tx="\\u200d",Xp=Ox+"?",Qp="["+Ex+"]?",Ax="(?:"+Tx+"(?:"+[Yp,Kp,Zp].join("|")+")"+Qp+Xp+")*",Mx=Qp+Xp+Ax,qx="(?:"+[Yp+ji+"?",ji,Kp,Zp,Px].join("|")+")",Fx=RegExp(Ri+"(?="+Ri+")|"+qx+Mx,"g");function kx(e){return e.match(Fx)||[]}Jp.exports=kx});var rd=g((j9,td)=>{var Dx=Wp(),Ix=Li(),Nx=ed();function Lx(e){return Ix(e)?Nx(e):Dx(e)}td.exports=Lx});var id=g((R9,nd)=>{var jx=Gp(),Rx=Li(),Hx=rd(),Vx=Gr();function Bx(e){return function(t){t=Vx(t);var r=Rx(t)?Hx(t):void 0,n=r?r[0]:t.charAt(0),i=r?jx(r,1).join(""):t.slice(1);return n[e]()+i}}nd.exports=Bx});var ad=g((H9,od)=>{var Gx=id(),zx=Gx("toUpperCase");od.exports=zx});var fn=g((V9,sd)=>{var Ux=Gr(),Wx=ad();function $x(e){return Wx(Ux(e).toLowerCase())}sd.exports=$x});var Gm=g((zA,kn)=>{var Sm,Cm,Em,Pm,Om,Tm,Am,Mm,qm,qn,yo,Fm,km,Dm,Rt,Im,Nm,Lm,jm,Rm,Hm,Vm,Bm,Fn;(function(e){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(n){e(r(t,r(n)))}):typeof kn=="object"&&typeof kn.exports=="object"?e(r(t,r(kn.exports))):e(r(t));function r(n,i){return n!==t&&(typeof Object.create=="function"?Object.defineProperty(n,"__esModule",{value:!0}):n.__esModule=!0),function(o,a){return n[o]=i?i(o,a):a}}})(function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(n[o]=i[o])};Sm=function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");t(n,i);function o(){this.constructor=n}n.prototype=i===null?Object.create(i):(o.prototype=i.prototype,new o)},Cm=Object.assign||function(n){for(var i,o=1,a=arguments.length;o<a;o++){i=arguments[o];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])}return n},Em=function(n,i){var o={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&i.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(n);s<a.length;s++)i.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(n,a[s])&&(o[a[s]]=n[a[s]]);return o},Pm=function(n,i,o,a){var s=arguments.length,l=s<3?i:a===null?a=Object.getOwnPropertyDescriptor(i,o):a,c;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(n,i,o,a);else for(var u=n.length-1;u>=0;u--)(c=n[u])&&(l=(s<3?c(l):s>3?c(i,o,l):c(i,o))||l);return s>3&&l&&Object.defineProperty(i,o,l),l},Om=function(n,i){return function(o,a){i(o,a,n)}},Tm=function(n,i){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(n,i)},Am=function(n,i,o,a){function s(l){return l instanceof o?l:new o(function(c){c(l)})}return new(o||(o=Promise))(function(l,c){function u(d){try{f(a.next(d))}catch(_){c(_)}}function p(d){try{f(a.throw(d))}catch(_){c(_)}}function f(d){d.done?l(d.value):s(d.value).then(u,p)}f((a=a.apply(n,i||[])).next())})},Mm=function(n,i){var o={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},a,s,l,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(d){return p([f,d])}}function p(f){if(a)throw new TypeError("Generator is already executing.");for(;o;)try{if(a=1,s&&(l=f[0]&2?s.return:f[0]?s.throw||((l=s.return)&&l.call(s),0):s.next)&&!(l=l.call(s,f[1])).done)return l;switch(s=0,l&&(f=[f[0]&2,l.value]),f[0]){case 0:case 1:l=f;break;case 4:return o.label++,{value:f[1],done:!1};case 5:o.label++,s=f[1],f=[0];continue;case 7:f=o.ops.pop(),o.trys.pop();continue;default:if(l=o.trys,!(l=l.length>0&&l[l.length-1])&&(f[0]===6||f[0]===2)){o=0;continue}if(f[0]===3&&(!l||f[1]>l[0]&&f[1]<l[3])){o.label=f[1];break}if(f[0]===6&&o.label<l[1]){o.label=l[1],l=f;break}if(l&&o.label<l[2]){o.label=l[2],o.ops.push(f);break}l[2]&&o.ops.pop(),o.trys.pop();continue}f=i.call(n,o)}catch(d){f=[6,d],s=0}finally{a=l=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},qm=function(n,i){for(var o in n)o!=="default"&&!Object.prototype.hasOwnProperty.call(i,o)&&Fn(i,n,o)},Fn=Object.create?function(n,i,o,a){a===void 0&&(a=o),Object.defineProperty(n,a,{enumerable:!0,get:function(){return i[o]}})}:function(n,i,o,a){a===void 0&&(a=o),n[a]=i[o]},qn=function(n){var i=typeof Symbol=="function"&&Symbol.iterator,o=i&&n[i],a=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")},yo=function(n,i){var o=typeof Symbol=="function"&&n[Symbol.iterator];if(!o)return n;var a=o.call(n),s,l=[],c;try{for(;(i===void 0||i-- >0)&&!(s=a.next()).done;)l.push(s.value)}catch(u){c={error:u}}finally{try{s&&!s.done&&(o=a.return)&&o.call(a)}finally{if(c)throw c.error}}return l},Fm=function(){for(var n=[],i=0;i<arguments.length;i++)n=n.concat(yo(arguments[i]));return n},km=function(){for(var n=0,i=0,o=arguments.length;i<o;i++)n+=arguments[i].length;for(var a=Array(n),s=0,i=0;i<o;i++)for(var l=arguments[i],c=0,u=l.length;c<u;c++,s++)a[s]=l[c];return a},Dm=function(n,i,o){if(o||arguments.length===2)for(var a=0,s=i.length,l;a<s;a++)(l||!(a in i))&&(l||(l=Array.prototype.slice.call(i,0,a)),l[a]=i[a]);return n.concat(l||Array.prototype.slice.call(i))},Rt=function(n){return this instanceof Rt?(this.v=n,this):new Rt(n)},Im=function(n,i,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(n,i||[]),s,l=[];return s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s;function c(m){a[m]&&(s[m]=function(h){return new Promise(function(v,y){l.push([m,h,v,y])>1||u(m,h)})})}function u(m,h){try{p(a[m](h))}catch(v){_(l[0][3],v)}}function p(m){m.value instanceof Rt?Promise.resolve(m.value.v).then(f,d):_(l[0][2],m)}function f(m){u("next",m)}function d(m){u("throw",m)}function _(m,h){m(h),l.shift(),l.length&&u(l[0][0],l[0][1])}},Nm=function(n){var i,o;return i={},a("next"),a("throw",function(s){throw s}),a("return"),i[Symbol.iterator]=function(){return this},i;function a(s,l){i[s]=n[s]?function(c){return(o=!o)?{value:Rt(n[s](c)),done:s==="return"}:l?l(c):c}:l}},Lm=function(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n[Symbol.asyncIterator],o;return i?i.call(n):(n=typeof qn=="function"?qn(n):n[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(l){o[l]=n[l]&&function(c){return new Promise(function(u,p){c=n[l](c),s(u,p,c.done,c.value)})}}function s(l,c,u,p){Promise.resolve(p).then(function(f){l({value:f,done:u})},c)}},jm=function(n,i){return Object.defineProperty?Object.defineProperty(n,"raw",{value:i}):n.raw=i,n};var r=Object.create?function(n,i){Object.defineProperty(n,"default",{enumerable:!0,value:i})}:function(n,i){n.default=i};Rm=function(n){if(n&&n.__esModule)return n;var i={};if(n!=null)for(var o in n)o!=="default"&&Object.prototype.hasOwnProperty.call(n,o)&&Fn(i,n,o);return r(i,n),i},Hm=function(n){return n&&n.__esModule?n:{default:n}},Vm=function(n,i,o,a){if(o==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?n!==i||!a:!i.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?a:o==="a"?a.call(n):a?a.value:i.get(n)},Bm=function(n,i,o,a,s){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?n!==i||!s:!i.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?s.call(n,o):s?s.value=o:i.set(n,o),o},e("__extends",Sm),e("__assign",Cm),e("__rest",Em),e("__decorate",Pm),e("__param",Om),e("__metadata",Tm),e("__awaiter",Am),e("__generator",Mm),e("__exportStar",qm),e("__createBinding",Fn),e("__values",qn),e("__read",yo),e("__spread",Fm),e("__spreadArrays",km),e("__spreadArray",Dm),e("__await",Rt),e("__asyncGenerator",Im),e("__asyncDelegator",Nm),e("__asyncValues",Lm),e("__makeTemplateObject",jm),e("__importStar",Rm),e("__importDefault",Hm),e("__classPrivateFieldGet",Vm),e("__classPrivateFieldSet",Bm)})});var xC={};gg(xC,{default:()=>Dn});module.exports=hg(xC);var Je=require("obsidian");function q(){}var Nr=e=>e;function No(e,t){for(let r in t)e[r]=t[r];return e}function Bn(e){return e()}function Do(){return Object.create(null)}function X(e){e.forEach(Bn)}function Pe(e){return typeof e=="function"}function I(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function Lo(e){return Object.keys(e).length===0}function fe(e,...t){if(e==null)return q;let r=e.subscribe(...t);return r.unsubscribe?()=>r.unsubscribe():r}function qe(e){let t;return fe(e,r=>t=r)(),t}function Fe(e,t,r){e.$$.on_destroy.push(fe(t,r))}function jo(e,t,r,n){if(e){let i=Ro(e,t,r,n);return e[0](i)}}function Ro(e,t,r,n){return e[1]&&n?No(r.ctx.slice(),e[1](n(t))):r.ctx}function Ho(e,t,r,n){if(e[2]&&n){let i=e[2](n(r));if(t.dirty===void 0)return i;if(typeof i=="object"){let o=[],a=Math.max(t.dirty.length,i.length);for(let s=0;s<a;s+=1)o[s]=t.dirty[s]|i[s];return o}return t.dirty|i}return t.dirty}function Vo(e,t,r,n,i,o){if(i){let a=Ro(t,r,n,o);e.p(a,i)}}function Bo(e){if(e.ctx.length>32){let t=[],r=e.ctx.length/32;for(let n=0;n<r;n++)t[n]=-1;return t}return-1}function Kt(e,t,r){return e.set(r),t}var Go=typeof window!="undefined",zo=Go?()=>window.performance.now():()=>Date.now(),Gn=Go?e=>requestAnimationFrame(e):q;var vt=new Set;function Uo(e){vt.forEach(t=>{t.c(e)||(vt.delete(t),t.f())}),vt.size!==0&&Gn(Uo)}function Wo(e){let t;return vt.size===0&&Gn(Uo),{promise:new Promise(r=>{vt.add(t={c:e,f:r})}),abort(){vt.delete(t)}}}var $o=!1;function vg(){$o=!0}function yg(){$o=!1}function x(e,t){e.appendChild(t)}function U(e,t,r){let n=zn(e);if(!n.getElementById(t)){let i=C("style");i.id=t,i.textContent=r,Yo(n,i)}}function zn(e){if(!e)return document;let t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function _g(e){let t=C("style");return Yo(zn(e),t),t.sheet}function Yo(e,t){x(e.head||e,t)}function T(e,t,r){e.insertBefore(t,r||null)}function O(e){e.parentNode.removeChild(e)}function ke(e,t){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(t)}function C(e){return document.createElement(e)}function Un(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function D(e){return document.createTextNode(e)}function k(){return D(" ")}function Le(){return D("")}function L(e,t,r,n){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r,n)}function Lr(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function S(e,t,r){r==null?e.removeAttribute(t):e.getAttribute(t)!==r&&e.setAttribute(t,r)}function bg(e){return Array.from(e.childNodes)}function G(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function je(e,t){e.value=t==null?"":t}function Ko(e,t,r,n){r===null?e.style.removeProperty(t):e.style.setProperty(t,r,n?"important":"")}function H(e,t,r){e.classList[r?"add":"remove"](t)}function wg(e,t,r=!1){let n=document.createEvent("CustomEvent");return n.initCustomEvent(e,r,!1,t),n}var kr=new Map,Dr=0;function xg(e){let t=5381,r=e.length;for(;r--;)t=(t<<5)-t^e.charCodeAt(r);return t>>>0}function Sg(e,t){let r={stylesheet:_g(t),rules:{}};return kr.set(e,r),r}function Zo(e,t,r,n,i,o,a,s=0){let l=16.666/n,c=`{
`;for(let h=0;h<=1;h+=l){let v=t+(r-t)*o(h);c+=h*100+`%{${a(v,1-v)}}
`}let u=c+`100% {${a(r,1-r)}}
}`,p=`__svelte_${xg(u)}_${s}`,f=zn(e),{stylesheet:d,rules:_}=kr.get(f)||Sg(f,e);_[p]||(_[p]=!0,d.insertRule(`@keyframes ${p} ${u}`,d.cssRules.length));let m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${p} ${n}ms linear ${i}ms 1 both`,Dr+=1,p}function Hn(e,t){let r=(e.style.animation||"").split(", "),n=r.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),i=r.length-n.length;i&&(e.style.animation=n.join(", "),Dr-=i,Dr||Cg())}function Cg(){Gn(()=>{Dr||(kr.forEach(e=>{let{stylesheet:t}=e,r=t.cssRules.length;for(;r--;)t.deleteRule(r);e.rules={}}),kr.clear())})}var Yt;function $t(e){Yt=e}function Xo(){if(!Yt)throw new Error("Function called outside component initialization");return Yt}function le(e){Xo().$$.on_mount.push(e)}function Wn(e){Xo().$$.on_destroy.push(e)}function Qo(e,t){let r=e.$$.callbacks[t.type];r&&r.slice().forEach(n=>n.call(this,t))}var Wt=[];var se=[],qr=[],Io=[],Eg=Promise.resolve(),Vn=!1;function Pg(){Vn||(Vn=!0,Eg.then(Jo))}function be(e){qr.push(e)}var Rn=new Set,Mr=0;function Jo(){let e=Yt;do{for(;Mr<Wt.length;){let t=Wt[Mr];Mr++,$t(t),Og(t.$$)}for($t(null),Wt.length=0,Mr=0;se.length;)se.pop()();for(let t=0;t<qr.length;t+=1){let r=qr[t];Rn.has(r)||(Rn.add(r),r())}qr.length=0}while(Wt.length);for(;Io.length;)Io.pop()();Vn=!1,Rn.clear(),$t(e)}function Og(e){if(e.fragment!==null){e.update(),X(e.before_update);let t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(be)}}var Ut;function ea(){return Ut||(Ut=Promise.resolve(),Ut.then(()=>{Ut=null})),Ut}function Ir(e,t,r){e.dispatchEvent(wg(`${t?"intro":"outro"}${r}`))}var Fr=new Set,ze;function re(){ze={r:0,c:[],p:ze}}function ne(){ze.r||X(ze.c),ze=ze.p}function A(e,t){e&&e.i&&(Fr.delete(e),e.i(t))}function F(e,t,r,n){if(e&&e.o){if(Fr.has(e))return;Fr.add(e),ze.c.push(()=>{Fr.delete(e),n&&(r&&e.d(1),n())}),e.o(t)}}var ta={duration:0};function yt(e,t,r){let n=t(e,r),i=!1,o,a,s=0;function l(){o&&Hn(e,o)}function c(){let{delay:p=0,duration:f=300,easing:d=Nr,tick:_=q,css:m}=n||ta;m&&(o=Zo(e,0,1,f,p,d,m,s++)),_(0,1);let h=zo()+p,v=h+f;a&&a.abort(),i=!0,be(()=>Ir(e,!0,"start")),a=Wo(y=>{if(i){if(y>=v)return _(1,0),Ir(e,!0,"end"),l(),i=!1;if(y>=h){let b=d((y-h)/f);_(b,1-b)}}return i})}let u=!1;return{start(){u||(u=!0,Hn(e),Pe(n)?(n=n(),ea().then(c)):c())},invalidate(){u=!1},end(){i&&(l(),i=!1)}}}function Ue(e,t,r){let n=t(e,r),i=!0,o,a=ze;a.r+=1;function s(){let{delay:l=0,duration:c=300,easing:u=Nr,tick:p=q,css:f}=n||ta;f&&(o=Zo(e,1,0,c,l,u,f));let d=zo()+l,_=d+c;be(()=>Ir(e,!1,"start")),Wo(m=>{if(i){if(m>=_)return p(0,1),Ir(e,!1,"end"),--a.r||X(a.c),!1;if(m>=d){let h=u((m-d)/c);p(1-h,h)}}return i})}return Pe(n)?ea().then(()=>{n=n(),s()}):s(),{end(l){l&&n.tick&&n.tick(1,0),i&&(o&&Hn(e,o),i=!1)}}}var CC=typeof window!="undefined"?window:typeof globalThis!="undefined"?globalThis:global;function z(e){e&&e.c()}function B(e,t,r,n){let{fragment:i,on_mount:o,on_destroy:a,after_update:s}=e.$$;i&&i.m(t,r),n||be(()=>{let l=o.map(Bn).filter(Pe);a?a.push(...l):X(l),e.$$.on_mount=[]}),s.forEach(be)}function V(e,t){let r=e.$$;r.fragment!==null&&(X(r.on_destroy),r.fragment&&r.fragment.d(t),r.on_destroy=r.fragment=null,r.ctx=[])}function Tg(e,t){e.$$.dirty[0]===-1&&(Wt.push(e),Pg(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function j(e,t,r,n,i,o,a,s=[-1]){let l=Yt;$t(e);let c=e.$$={fragment:null,ctx:null,props:o,update:q,not_equal:i,bound:Do(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(l?l.$$.context:[])),callbacks:Do(),dirty:s,skip_bound:!1,root:t.target||l.$$.root};a&&a(c.root);let u=!1;if(c.ctx=r?r(e,t.props||{},(p,f,...d)=>{let _=d.length?d[0]:f;return c.ctx&&i(c.ctx[p],c.ctx[p]=_)&&(!c.skip_bound&&c.bound[p]&&c.bound[p](_),u&&Tg(e,p)),f}):[],c.update(),u=!0,X(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){vg();let p=bg(t.target);c.fragment&&c.fragment.l(p),p.forEach(O)}else c.fragment&&c.fragment.c();t.intro&&A(e.$$.fragment),B(e,t.target,t.anchor,t.customElement),yg(),Jo()}$t(l)}var Ag;typeof HTMLElement=="function"&&(Ag=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){let{on_mount:e}=this.$$;this.$$.on_disconnect=e.map(Bn).filter(Pe);for(let t in this.$$.slotted)this.appendChild(this.$$.slotted[t])}attributeChangedCallback(e,t,r){this[e]=r}disconnectedCallback(){X(this.$$.on_disconnect)}$destroy(){V(this,1),this.$destroy=q}$on(e,t){let r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(t),()=>{let n=r.indexOf(t);n!==-1&&r.splice(n,1)}}$set(e){this.$$set&&!Lo(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}});var N=class{$destroy(){V(this,1),this.$destroy=q}$on(t,r){let n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(r),()=>{let i=n.indexOf(r);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!Lo(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}};var _t=[];function Mg(e,t){return{subscribe:Zt(e,t).subscribe}}function Zt(e,t=q){let r,n=new Set;function i(s){if(I(e,s)&&(e=s,r)){let l=!_t.length;for(let c of n)c[1](),_t.push(c,e);if(l){for(let c=0;c<_t.length;c+=2)_t[c][0](_t[c+1]);_t.length=0}}}function o(s){i(s(e))}function a(s,l=q){let c=[s,l];return n.add(c),n.size===1&&(r=t(i)||q),s(e),()=>{n.delete(c),n.size===0&&(r(),r=null)}}return{set:i,update:o,subscribe:a}}function ra(e,t,r){let n=!Array.isArray(e),i=n?[e]:e,o=t.length<2;return Mg(r,a=>{let s=!1,l=[],c=0,u=q,p=()=>{if(c)return;u();let d=t(n?l[0]:l,a);o?a(d):u=Pe(d)?d:q},f=i.map((d,_)=>fe(d,m=>{l[_]=m,c&=~(1<<_),s&&p()},()=>{c|=1<<_}));return s=!0,p(),function(){X(f),u()}})}var mm=nt(Qn()),gm=nt(Xu()),Ne=require("obsidian");var Lw="YYYY-MM-DD",jw="gggg-[W]ww",Rw="YYYY-MM",Hw="YYYY-[Q]Q",Vw="YYYY",we=Object.freeze({day:Lw,week:jw,month:Rw,quarter:Hw,year:Vw}),Qu=Object.freeze({month:"MMMM YYYY",quarter:"YYYY Q[Q]",year:"YYYY"});var Bw=/(\d{4})[-.]?(0[1-9]|1[0-2])[-.]?(0[1-9]|[12][0-9]|3[01])/,Gw=/(\d{4})[-.]?(0[1-9]|1[0-2])/,zw=/(\d{4})/;function Ju(e){let t=Bw.exec(e);if(t)return{date:window.moment({day:Number(t[3]),month:Number(t[2])-1,year:Number(t[1])}),granularity:"day"};let r=Gw.exec(e);if(r)return{date:window.moment({day:1,month:Number(r[2])-1,year:Number(r[1])}),granularity:"month"};let n=zw.exec(e);return n?{date:window.moment({day:1,month:0,year:Number(n[1])}),granularity:"year"}:null}var ef=require("obsidian");function en(e){return e.replace(/\[[^\]]*\]/g,"").replace(/\\./g,"")}function Uw(e){let t=e.extension.length+1;return e.path.slice(0,-t)}function Ww(e){var r;return e.indexOf("/")!==-1?(r=e.split("/").pop())!=null?r:"":e}function $w(e){let t=/[?<>\\:*|"]/g,r=/[\x00-\x1f\x80-\x9f]/g,n=/^\.+$/,i=/^(con|prn|aux|nul|com[0-9]|lpt[0-9])(\..*)?$/i;return!t.test(e)&&!r.test(e)&&!n.test(e)&&!i.test(e)}function xi(e,t){if(!e)return"";if(!$w(e))return"Format contains illegal characters";if(t==="day"){let r=window.moment().format(e);if(!window.moment(r,e,!0).isValid())return"Failed to parse format"}return""}function tn(e,t){let r=window.moment().format(e);return window.moment(r,e,!0).isValid()?en(e).includes("/")&&t==="day"&&!["m","d","y"].every(o=>Ww(e).replace(/\[[^\]]*\]/g,"").toLowerCase().indexOf(o)!==-1)?"fragile-basename":"valid":"loose-parsing"}function tf(e,t,r){var n,i;if(tn(t,r)==="fragile-basename"){let o=Uw(e),s=((i=(n=en(t).match(/\//g))==null?void 0:n.length)!=null?i:0)+1;return o.split("/").slice(-s).join("/")}return e.basename}function Si(e,t){return t?e.metadataCache.getFirstLinkpathDest(t,"")?"":"Template file not found":""}function Ci(e,t){return!t||t==="/"||e.vault.getAbstractFileByPath((0,ef.normalizePath)(t))?"":"Folder not found in vault"}var ie=["day","week","month","quarter","year"];var mt=require("obsidian");var sm=require("obsidian");var Re="Default";function rf(e){let t=e;return!!(t.daily||t.weekly||t.monthly||t.yearly||t.quarterly)}function nf(e){let t=r=>({enabled:!0,format:r.format||"",folder:r.folder||"",openAtStartup:r.autorun,templatePath:r.template});return{id:Re,ctime:window.moment().format(),day:t(e.daily)}}function of(e){let t=r=>({enabled:r.enabled,format:r.format||"",folder:r.folder||"",openAtStartup:!1,templatePath:r.template});return{id:Re,ctime:window.moment().format(),day:t(e.daily),week:t(e.weekly),month:t(e.monthly),quarter:t(e.quarterly),year:t(e.yearly)}}var fr=class{constructor(t){this.plugin=t}getActiveId(){return qe(this.plugin.settings).activeCalendarSet}getActiveSet(){let t=qe(this.plugin.settings),r=t.calendarSets.find(n=>n.id===t.activeCalendarSet);if(!r)throw new Error("No active calendar set found");return r}getFormat(t){let r=this.getActiveSet();return pr(r,t)}getActiveConfig(t){let r=this.getActiveSet();return af(r,t)}getCalendarSets(){return qe(this.plugin.settings).calendarSets}getInactiveGranularities(){let t=this.getActiveSet();return ie.filter(r=>{var n;return!((n=t[r])!=null&&n.enabled)})}getActiveGranularities(){let t=this.getActiveSet();return ie.filter(r=>{var n;return(n=t[r])==null?void 0:n.enabled})}renameCalendarset(t,r){if(t!==r.trim()){if(r.trim()==="")throw new Error("Name required");this.plugin.settings.update(n=>{if(n.calendarSets.find(a=>a.id===r))throw new Error(`A calendar set with the name '${r}' already exists`);let o=n.calendarSets.find(a=>a.id===t);return o&&(o.id=r,n.activeCalendarSet===t&&(n.activeCalendarSet=r)),n})}}};function Yw(){let{subscribe:e,set:t,update:r}=Zt({path:["Periodic Notes"],eState:{}});return{subscribe:e,set:t,navigate:(n,i)=>t({path:n,eState:i!=null?i:{}}),update:r,reset:()=>t({path:["Periodic Notes"],eState:{}})}}var ge=Yw();function Ei(e){let t=e-1;return t*t*t+1}function Mt(e,{delay:t=0,duration:r=400,easing:n=Ei,x:i=0,y:o=0,opacity:a=0}={}){let s=getComputedStyle(e),l=+s.opacity,c=s.transform==="none"?"":s.transform,u=l*(1-a);return{delay:t,duration:r,easing:n,css:(p,f)=>`
			transform: ${c} translate(${(1-p)*i}px, ${(1-p)*o}px);
			opacity: ${l-u*f}`}}function dr(e,{delay:t=0,duration:r=400,easing:n=Ei}={}){let i=getComputedStyle(e),o=+i.opacity,a=parseFloat(i.height),s=parseFloat(i.paddingTop),l=parseFloat(i.paddingBottom),c=parseFloat(i.marginTop),u=parseFloat(i.marginBottom),p=parseFloat(i.borderTopWidth),f=parseFloat(i.borderBottomWidth);return{delay:t,duration:r,easing:n,css:d=>`overflow: hidden;opacity: ${Math.min(d*20,1)*o};height: ${d*a}px;padding-top: ${d*s}px;padding-bottom: ${d*l}px;margin-top: ${d*c}px;margin-bottom: ${d*u}px;border-top-width: ${d*p}px;border-bottom-width: ${d*f}px;`}}var sf=require("obsidian");function Kw(e){U(e,"svelte-10cvoj4",".arrow.svelte-10cvoj4{align-items:center;display:flex;margin-right:0.6em;transition:0.2s transform ease-in}.expanded.svelte-10cvoj4{transform:rotate(90deg)}")}function Zw(e){let t;return{c(){t=C("div"),S(t,"class","arrow svelte-10cvoj4"),H(t,"expanded",e[0])},m(r,n){T(r,t,n),e[2](t)},p(r,[n]){n&1&&H(t,"expanded",r[0])},i:q,o:q,d(r){r&&O(t),e[2](null)}}}function Xw(e,t,r){let{isExpanded:n}=t,i;le(()=>{(0,sf.setIcon)(i,"chevron-right",16)});function o(a){se[a?"unshift":"push"](()=>{i=a,r(1,i)})}return e.$$set=a=>{"isExpanded"in a&&r(0,n=a.isExpanded)},[n,i,o]}var Pi=class extends N{constructor(t){super(),j(this,t,Xw,Zw,I,{isExpanded:0},Kw)}},rn=Pi;function Qw(e){U(e,"svelte-hvslhz",".breadcrumbs.svelte-hvslhz{align-items:center;color:var(--text-muted);display:flex;margin-bottom:24px}.crumb.svelte-hvslhz{cursor:pointer;font-weight:600;margin:0 0.4em}.crumb.svelte-hvslhz:first-of-type{margin-left:0}.crumb.svelte-hvslhz:last-of-type{color:var(--text-normal)}.crumb.svelte-hvslhz:hover{color:var(--text-accent)}")}function lf(e,t,r){let n=e.slice();n[2]=t[r],n[5]=r;let i=n[0].path.slice(0,n[5]+1);return n[3]=i,n}function cf(e){let t,r;return t=new rn({props:{isExpanded:!1}}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function uf(e){let t,r=e[2]+"",n,i,o,a,s,l,c,u;function p(){return e[1](e[3])}let f=e[5]<e[0].path.length-1&&cf(e);return{c(){t=C("div"),n=D(r),a=k(),f&&f.c(),s=Le(),S(t,"class","crumb svelte-hvslhz")},m(d,_){T(d,t,_),x(t,n),T(d,a,_),f&&f.m(d,_),T(d,s,_),l=!0,c||(u=L(t,"click",p),c=!0)},p(d,_){e=d,(!l||_&1)&&r!==(r=e[2]+"")&&G(n,r),e[5]<e[0].path.length-1?f?_&1&&A(f,1):(f=cf(e),f.c(),A(f,1),f.m(s.parentNode,s)):f&&(re(),F(f,1,1,()=>{f=null}),ne())},i(d){l||(be(()=>{o&&o.end(1),i=yt(t,Mt,{x:-6,duration:250}),i.start()}),A(f),l=!0)},o(d){i&&i.invalidate(),o=Ue(t,Mt,{x:-6,duration:250}),F(f),l=!1},d(d){d&&O(t),d&&o&&o.end(),d&&O(a),f&&f.d(d),d&&O(s),c=!1,u()}}}function Jw(e){let t,r,n=e[0].path,i=[];for(let a=0;a<n.length;a+=1)i[a]=uf(lf(e,n,a));let o=a=>F(i[a],1,1,()=>{i[a]=null});return{c(){t=C("div");for(let a=0;a<i.length;a+=1)i[a].c();S(t,"class","breadcrumbs svelte-hvslhz")},m(a,s){T(a,t,s);for(let l=0;l<i.length;l+=1)i[l].m(t,null);r=!0},p(a,[s]){if(s&1){n=a[0].path;let l;for(l=0;l<n.length;l+=1){let c=lf(a,n,l);i[l]?(i[l].p(c,s),A(i[l],1)):(i[l]=uf(c),i[l].c(),A(i[l],1),i[l].m(t,null))}for(re(),l=n.length;l<i.length;l+=1)o(l);ne()}},i(a){if(!r){for(let s=0;s<n.length;s+=1)A(i[s]);r=!0}},o(a){i=i.filter(Boolean);for(let s=0;s<i.length;s+=1)F(i[s]);r=!1},d(a){a&&O(t),ke(i,a)}}}function e2(e,t,r){let n;return Fe(e,ge,o=>r(0,n=o)),[n,o=>ge.navigate(o)]}var Oi=class extends N{constructor(t){super(),j(this,t,e2,Jw,I,{},Qw)}},ff=Oi;var bd=require("obsidian");function t2(e){U(e,"svelte-1kza10w",".footer.svelte-1kza10w{align-items:center;border-top:1px solid var(--background-modifier-border);display:flex;gap:16px;justify-content:center;margin-top:24px;padding:16px 0;width:100%}.footer-description.svelte-1kza10w{color:var(--text-muted);font-size:0.8em;font-style:italic}")}function r2(e){let t;return{c(){t=C("div"),t.innerHTML=`<div class="footer-description svelte-1kza10w">made by Liam Cain</div> 
  <a href="https://www.buymeacoffee.com/liamcain"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-violet.png" alt="BuyMeACoffee" width="100"/></a>`,S(t,"class","footer svelte-1kza10w")},m(r,n){T(r,t,n)},p:q,i:q,o:q,d(r){r&&O(t)}}}var Ti=class extends N{constructor(t){super(),j(this,t,null,r2,I,{},t2)}},pf=Ti;var n2=e=>({}),df=e=>({});function mf(e){let t,r;return{c(){t=C("div"),r=D(e[1]),S(t,"class","setting-item-description")},m(n,i){T(n,t,i),x(t,r)},p(n,i){i&2&&G(r,n[1])},d(n){n&&O(t)}}}function i2(e){let t,r,n,i,o,a,s,l,c,u=e[1]&&mf(e),p=e[5].control,f=jo(p,e,e[4],df);return{c(){t=C("div"),r=C("div"),n=C("div"),i=C("div"),o=D(e[0]),a=k(),u&&u.c(),s=k(),l=C("div"),f&&f.c(),S(n,"class","setting-item-name"),S(r,"class","setting-item-info"),S(l,"class","setting-item-control"),S(t,"class","setting-item"),H(t,"setting-item-heading",e[2]),H(t,"mod-dropdown",e[3]==="dropdown")},m(d,_){T(d,t,_),x(t,r),x(r,n),x(n,i),x(i,o),x(r,a),u&&u.m(r,null),x(t,s),x(t,l),f&&f.m(l,null),c=!0},p(d,[_]){(!c||_&1)&&G(o,d[0]),d[1]?u?u.p(d,_):(u=mf(d),u.c(),u.m(r,null)):u&&(u.d(1),u=null),f&&f.p&&(!c||_&16)&&Vo(f,p,d,d[4],c?Ho(p,d[4],_,n2):Bo(d[4]),df),_&4&&H(t,"setting-item-heading",d[2]),_&8&&H(t,"mod-dropdown",d[3]==="dropdown")},i(d){c||(A(f,d),c=!0)},o(d){F(f,d),c=!1},d(d){d&&O(t),u&&u.d(),f&&f.d(d)}}}function o2(e,t,r){let{$$slots:n={},$$scope:i}=t,{name:o}=t,{description:a}=t,{isHeading:s}=t,{type:l}=t;return e.$$set=c=>{"name"in c&&r(0,o=c.name),"description"in c&&r(1,a=c.description),"isHeading"in c&&r(2,s=c.isHeading),"type"in c&&r(3,l=c.type),"$$scope"in c&&r(4,i=c.$$scope)},[o,a,s,l,i,n]}var Ai=class extends N{constructor(t){super(),j(this,t,o2,i2,I,{name:0,description:1,isHeading:2,type:3})}},nn=Ai;function a2(e){let t,r,n;return{c(){t=C("div"),S(t,"class","checkbox-container"),H(t,"is-enabled",e[0])},m(i,o){T(i,t,o),r||(n=L(t,"click",e[2]),r=!0)},p(i,[o]){o&1&&H(t,"is-enabled",i[0])},i:q,o:q,d(i){i&&O(t),r=!1,n()}}}function s2(e,t,r){let{isEnabled:n}=t,{onChange:i}=t,o=()=>i(!n);return e.$$set=a=>{"isEnabled"in a&&r(0,n=a.isEnabled),"onChange"in a&&r(1,i=a.onChange)},[n,i,o]}var Mi=class extends N{constructor(t){super(),j(this,t,s2,a2,I,{isEnabled:0,onChange:1})}},on=Mi;var Ii=nt(qp()),x9=require("obsidian");var nx=ie.reduce((e,t)=>(e[t]=ht({},Ze),e),{}),cn=e=>t=>{let r=t.calendarSets.find(n=>n.id===e);if(r&&t.calendarSets.remove(r),e===t.activeCalendarSet){let n=t.calendarSets[0].id;t.activeCalendarSet=n}return t},De=(e,t)=>r=>(r.calendarSets.push(Ar(ht(ht({},(0,Ii.default)(nx)),(0,Ii.default)(t)),{id:e,ctime:window.moment().format()})),r),Ke=e=>t=>(t.activeCalendarSet=e,t),Fp=e=>{for(let t of e.calendarSets)for(let r of ie){let n=t[r];n&&n.openAtStartup&&(n.openAtStartup=!1)}return e},kp=e=>{let t=qe(e).calendarSets;for(let r of t)for(let n of ie){let i=r[n];if(i&&i.openAtStartup)return{calendarSet:r.id,granularity:n}}return null},Dp=(e,t)=>(e%t+t)%t;function Ip(e){return e.internalPlugins.getPluginById("daily-notes").enabled}function ix(e){let t=e.internalPlugins.getPluginById("daily-notes");return t?t.instance:null}function un(e){var r;let t=((r=ix(e))==null?void 0:r.options)||{};return!!(t.format||t.folder||t.template)}function Np(e){e.internalPlugins.getPluginById("daily-notes").disable(!0)}function ox(e){U(e,"svelte-1alo0m9","button.svelte-1alo0m9{display:flex;align-items:center}")}function Lp(e){let t,r,n,i,o,a,s;return{c(){t=C("div"),r=C("div"),r.innerHTML=`<div class="setting-item-name">Daily Notes plugin enabled</div> 
        <p class="setting-item-description">You are currently using the core Daily Notes plugin. You can migrate
          your existing settings for a seamless transition to Periodic Notes.</p> 
        <p>If you have an custom hotkeys for daily notes, make sure to update
          them to use the corresponding &quot;Periodic Notes&quot; commands.</p>`,n=k(),i=C("div"),o=C("button"),o.textContent="Disable",S(r,"class","setting-item-info"),S(o,"class","mod-cta svelte-1alo0m9"),S(i,"class","setting-item-control"),S(t,"class","setting-item")},m(l,c){T(l,t,c),x(t,r),x(t,n),x(t,i),x(i,o),a||(s=L(o,"click",e[4]),a=!0)},p:q,d(l){l&&O(t),a=!1,s()}}}function jp(e){let t;return{c(){t=C("p"),t.textContent=`With this plugin, you can quickly create and navigate to daily, weekly,
      and monthly notes. Enable them below to get started.`},m(r,n){T(r,t,n)},d(r){r&&O(t)}}}function ax(e){let t,r,n,i,o,a,s,l,c,u,p=e[2]&&Lp(e),f=!e[3]&&jp(e);return{c(){t=C("div"),r=C("h3"),r.textContent="Getting Started",n=k(),p&&p.c(),i=k(),f&&f.c(),o=k(),a=C("button"),a.textContent="Dismiss",S(a,"class","svelte-1alo0m9"),S(t,"class","settings-banner")},m(d,_){T(d,t,_),x(t,r),x(t,n),p&&p.m(t,null),x(t,i),f&&f.m(t,null),x(t,o),x(t,a),l=!0,c||(u=L(a,"click",function(){Pe(e[1])&&e[1].apply(this,arguments)}),c=!0)},p(d,[_]){e=d,e[2]?p?p.p(e,_):(p=Lp(e),p.c(),p.m(t,i)):p&&(p.d(1),p=null),e[3]?f&&(f.d(1),f=null):f||(f=jp(e),f.c(),f.m(t,o))},i(d){l||(s&&s.end(1),l=!0)},o(d){d&&(s=Ue(t,dr,{})),l=!1},d(d){d&&O(t),p&&p.d(),f&&f.d(),d&&s&&s.end(),c=!1,u()}}}function sx(e,t,r){let{app:n}=t,{handleTeardown:i}=t,o,a,s=()=>Np(n);return e.$$set=l=>{"app"in l&&r(0,n=l.app),"handleTeardown"in l&&r(1,i=l.handleTeardown)},e.$$.update=()=>{if(e.$$.dirty&1){e:r(2,o=Ip(n)),r(3,a=un(n))}},[n,i,o,a,s]}var Ni=class extends N{constructor(t){super(),j(this,t,sx,ax,I,{app:0,handleTeardown:1},ox)}},Rp=Ni;var dn=require("obsidian");var gd=nt(fn());function Yx(e){U(e,"svelte-1nngpym",".check.svelte-1nngpym{color:var(--text-accent);width:12px;height:12px}")}function Kx(e){let t,r;return{c(){t=Un("svg"),r=Un("path"),S(r,"fill","currentColor"),S(r,"d","M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),S(t,"aria-hidden","true"),S(t,"focusable","false"),S(t,"class","check svelte-1nngpym"),S(t,"data-icon","check"),S(t,"role","img"),S(t,"xmlns","http://www.w3.org/2000/svg"),S(t,"viewBox","0 0 512 512")},m(n,i){T(n,t,i),x(t,r)},p:q,i:q,o:q,d(n){n&&O(t)}}}var Hi=class extends N{constructor(t){super(),j(this,t,null,Kx,I,{},Yx)}},ld=Hi;var pn=require("obsidian"),K={day:{periodicity:"daily",relativeUnit:"today",labelOpenPresent:"Open today's daily note"},week:{periodicity:"weekly",relativeUnit:"this week",labelOpenPresent:"Open this week's note"},month:{periodicity:"monthly",relativeUnit:"this month",labelOpenPresent:"Open this month's note"},quarter:{periodicity:"quarterly",relativeUnit:"this quarter",labelOpenPresent:"Open this quarter's note"},year:{periodicity:"yearly",relativeUnit:"this year",labelOpenPresent:"Open this year's note"}};function cd(e,t,r){return te(this,null,function*(){let n=e.workspace.getActiveFile();if(!n)return;let i=t.findInCache(n.path);if(!i)return;let o=t.findAdjacent(i.calendarSet,n.path,r);if(o){let a=e.vault.getAbstractFileByPath(o.filePath);a&&a instanceof pn.TFile&&(yield e.workspace.getUnpinnedLeaf().openFile(a,{active:!0}))}else{let a=r==="forwards"?"after":"before";new pn.Notice(`There's no ${K[i.granularity].periodicity} note ${a} this`)}})}function ud(e,t,r){return te(this,null,function*(){let n=e.workspace.getActiveFile();if(!n)return;let i=t.findInCache(n.path);if(!i)return;let o=r==="forwards"?1:-1,a=i.date.clone().add(o,i.granularity);t.openPeriodicNote(i.granularity,a)})}function Vi(e,t,r){let n=K[r];return[{id:`open-${n.periodicity}-note`,name:n.labelOpenPresent,callback:()=>t.openPeriodicNote(r,window.moment())},{id:`next-${n.periodicity}-note`,name:`Jump forwards to closest ${n.periodicity} note`,checkCallback:i=>{let o=e.workspace.getActiveFile();if(i)return o?t.isPeriodic(o.path,r):!1;cd(e,t,"forwards")}},{id:`prev-${n.periodicity}-note`,name:`Jump backwards to closest ${n.periodicity} note`,checkCallback:i=>{let o=e.workspace.getActiveFile();if(i)return o?t.isPeriodic(o.path,r):!1;cd(e,t,"backwards")}},{id:`open-next-${n.periodicity}-note`,name:`Open next ${n.periodicity} note`,checkCallback:i=>{let o=e.workspace.getActiveFile();if(i)return o?t.isPeriodic(o.path,r):!1;ud(e,t,"forwards")}},{id:`open-prev-${n.periodicity}-note`,name:`Open previous ${n.periodicity} note`,checkCallback:i=>{let o=e.workspace.getActiveFile();if(i)return o?t.isPeriodic(o.path,r):!1;ud(e,t,"backwards")}}]}function Zx(e){U(e,"svelte-1io0api",".calendarset-container.svelte-1io0api.svelte-1io0api{background:var(--background-primary-alt);border-radius:16px;border:1px solid var(--background-modifier-border);cursor:pointer;display:flex;flex-direction:column;padding:24px 28px;transition:0.2s border-color ease-in}.calendarset-container.active.svelte-1io0api.svelte-1io0api{background:var(--text-selection);box-shadow:inset 0 0 0 1px var(--text-accent)}.calendarset-container.active.svelte-1io0api.svelte-1io0api:hover{border-color:var(--interactive-accent);box-shadow:inset 0 0 0 1px var(--text-accent-hover)}.calendarset-container.svelte-1io0api.svelte-1io0api:hover{border-color:var(--interactive-accent)}.calendarset-titlebar.svelte-1io0api.svelte-1io0api{align-items:center;display:flex;justify-content:space-between}.calendarset-titlebar.svelte-1io0api .view-action.svelte-1io0api{margin-right:0;padding:2px}.calendarset-name.svelte-1io0api.svelte-1io0api{font-weight:600;letter-spacing:0.25px;margin:0}.periodicity-text.svelte-1io0api.svelte-1io0api{margin-left:0.4em}.badge.svelte-1io0api.svelte-1io0api{background:var(--interactive-accent);border-radius:6px;color:var(--text-on-accent);font-size:70%;margin-left:0.8em;padding:0.1em 0.5em;line-height:20px}.included-types.svelte-1io0api.svelte-1io0api{margin-top:24px}.included-type.svelte-1io0api.svelte-1io0api{display:flex;align-items:baseline;margin-top:6px}.included-type.svelte-1io0api.svelte-1io0api:first-of-type{margin-top:0}.calendarset-empty-state.svelte-1io0api.svelte-1io0api{color:var(--text-faint);font-style:italic}")}function fd(e,t,r){let n=e.slice();return n[12]=t[r],n}function pd(e){var p;let t,r,n,i,o=(0,gd.default)(K[e[12]].periodicity)+"",a,s,l,c;r=new ld({});let u=((p=e[1][e[12]])==null?void 0:p.openAtStartup)&&dd(e);return{c(){t=C("div"),z(r.$$.fragment),n=k(),i=C("span"),a=D(o),s=D(" notes"),l=k(),u&&u.c(),S(i,"class","periodicity-text svelte-1io0api"),S(t,"class","included-type svelte-1io0api")},m(f,d){T(f,t,d),B(r,t,null),x(t,n),x(t,i),x(i,a),x(i,s),x(t,l),u&&u.m(t,null),c=!0},p(f,d){var _;(_=f[1][f[12]])!=null&&_.openAtStartup?u||(u=dd(f),u.c(),u.m(t,null)):u&&(u.d(1),u=null)},i(f){c||(A(r.$$.fragment,f),c=!0)},o(f){F(r.$$.fragment,f),c=!1},d(f){f&&O(t),V(r),u&&u.d()}}}function dd(e){let t;return{c(){t=C("span"),t.textContent="Opens at startup",S(t,"class","badge svelte-1io0api")},m(r,n){T(r,t,n)},d(r){r&&O(t)}}}function md(e){var i;let t,r,n=((i=e[1][e[12]])==null?void 0:i.enabled)&&pd(e);return{c(){n&&n.c(),t=Le()},m(o,a){n&&n.m(o,a),T(o,t,a),r=!0},p(o,a){var s;(s=o[1][o[12]])!=null&&s.enabled?n?(n.p(o,a),a&2&&A(n,1)):(n=pd(o),n.c(),A(n,1),n.m(t.parentNode,t)):n&&(re(),F(n,1,1,()=>{n=null}),ne())},i(o){r||(A(n),r=!0)},o(o){F(n),r=!1},d(o){n&&n.d(o),o&&O(t)}}}function Xx(e){let t;return{c(){t=C("div"),t.textContent="Not configured",S(t,"class","calendarset-empty-state svelte-1io0api")},m(r,n){T(r,t,n)},d(r){r&&O(t)}}}function Qx(e){let t,r,n,i=e[1].id+"",o,a,s,l,c,u,p,f,d,_=ie,m=[];for(let y=0;y<_.length;y+=1)m[y]=md(fd(e,_,y));let h=y=>F(m[y],1,1,()=>{m[y]=null}),v=e[5]&&Xx(e);return{c(){t=C("div"),r=C("div"),n=C("h4"),o=D(i),a=k(),s=C("div"),l=k(),c=C("div");for(let y=0;y<m.length;y+=1)m[y].c();u=k(),v&&v.c(),S(n,"class","calendarset-name svelte-1io0api"),S(s,"class","view-action svelte-1io0api"),S(r,"class","calendarset-titlebar svelte-1io0api"),S(c,"class","included-types svelte-1io0api"),S(t,"class","calendarset-container svelte-1io0api"),H(t,"active",e[1].id===e[4].activeCalendarSet)},m(y,b){T(y,t,b),x(t,r),x(r,n),x(n,o),x(r,a),x(r,s),e[9](s),x(t,l),x(t,c);for(let w=0;w<m.length;w+=1)m[w].m(c,null);x(c,u),v&&v.m(c,null),p=!0,f||(d=[L(s,"click",Lr(e[6])),L(t,"click",function(){Pe(e[0])&&e[0].apply(this,arguments)})],f=!0)},p(y,[b]){if(e=y,(!p||b&2)&&i!==(i=e[1].id+"")&&G(o,i),b&2){_=ie;let w;for(w=0;w<_.length;w+=1){let E=fd(e,_,w);m[w]?(m[w].p(E,b),A(m[w],1)):(m[w]=md(E),m[w].c(),A(m[w],1),m[w].m(c,u))}for(re(),w=_.length;w<m.length;w+=1)h(w);ne()}b&18&&H(t,"active",e[1].id===e[4].activeCalendarSet)},i(y){if(!p){for(let b=0;b<_.length;b+=1)A(m[b]);p=!0}},o(y){m=m.filter(Boolean);for(let b=0;b<m.length;b+=1)F(m[b]);p=!1},d(y){y&&O(t),e[9](null),ke(m,y),v&&v.d(),f=!1,X(d)}}}function Jx(e,t,r){let n,i=q,o=()=>(i(),i=fe(u,v=>r(4,n=v)),u);e.$$.on_destroy.push(()=>i());let{app:a}=t,{viewDetails:s}=t,{calendarSet:l}=t,{manager:c}=t,{settings:u}=t;o();let p,f=ie.filter(v=>{var y;return(y=l[v])===null||y===void 0?void 0:y.enabled}).length===0;function d(){u.update(cn(l.id))}function _(){u.update(Ke(l.id))}function m(v){let y=new dn.Menu(a);n.activeCalendarSet!==l.id&&y.addItem(b=>b.setTitle("Set as active").setIcon("check-circle-2").onClick(_)).addSeparator(),y.addItem(b=>b.setTitle("Duplicate calendar set").setIcon("copy").onClick(()=>{let w=`${l.id} copy`;u.update(De(w,l)),ge.navigate(["Periodic Notes",w],{shouldRename:!0})})).addItem(b=>b.setTitle("Delete calendar set").setIcon("x").setDisabled(c.getCalendarSets().length===1).onClick(d)).showAtMouseEvent(v)}le(()=>{(0,dn.setIcon)(p,"more-vertical",18)});function h(v){se[v?"unshift":"push"](()=>{p=v,r(3,p)})}return e.$$set=v=>{"app"in v&&r(7,a=v.app),"viewDetails"in v&&r(0,s=v.viewDetails),"calendarSet"in v&&r(1,l=v.calendarSet),"manager"in v&&r(8,c=v.manager),"settings"in v&&o(r(2,u=v.settings))},[s,l,u,p,n,f,m,a,c,h]}var Bi=class extends N{constructor(t){super(),j(this,t,Jx,Qx,I,{app:7,viewDetails:0,calendarSet:1,manager:8,settings:2},Zx)}},hd=Bi;function eS(e){U(e,"svelte-7tzhh2",".calendarset-container.svelte-7tzhh2{display:grid;grid-template-columns:1fr 1fr;gap:30px;padding-bottom:1.4em}.section-title.svelte-7tzhh2{margin:0}.section-nav.svelte-7tzhh2{align-items:center;display:flex;justify-content:space-between;margin:2em 0 0.8em}")}function vd(e,t,r){let n=e.slice();return n[10]=t[r],n}function yd(e){let t,r;return t=new Rp({props:{app:e[0],handleTeardown:e[6]}}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},p(n,i){let o={};i&1&&(o.app=n[0]),i&16&&(o.handleTeardown=n[6]),t.$set(o)},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function _d(e){let t,r;function n(){return e[8](e[10])}return t=new hd({props:{app:e[0],calendarSet:e[10],manager:e[1],settings:e[2],viewDetails:n}}),{c(){z(t.$$.fragment)},m(i,o){B(t,i,o),r=!0},p(i,o){e=i;let a={};o&1&&(a.app=e[0]),o&16&&(a.calendarSet=e[10]),o&2&&(a.manager=e[1]),o&4&&(a.settings=e[2]),o&16&&(a.viewDetails=n),t.$set(a)},i(i){r||(A(t.$$.fragment,i),r=!0)},o(i){F(t.$$.fragment,i),r=!1},d(i){V(t,i)}}}function tS(e){let t,r;return t=new on({props:{slot:"control",isEnabled:e[4].enableTimelineComplication,onChange:e[9]}}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},p(n,i){let o={};i&16&&(o.isEnabled=n[4].enableTimelineComplication),i&16&&(o.onChange=n[9]),t.$set(o)},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function rS(e){let t,r,n,i,o,a,s,l,c,u,p,f,d,_,m=e[4].showGettingStartedBanner&&yd(e),h=e[4].calendarSets,v=[];for(let b=0;b<h.length;b+=1)v[b]=_d(vd(e,h,b));let y=b=>F(v[b],1,1,()=>{v[b]=null});return c=new nn({props:{name:"Show \u201CTimeline\u201D complication on periodic notes",description:"Adds a collapsible timeline to the top-right of all periodic notes",type:"toggle",isHeading:!1,$$slots:{control:[tS]},$$scope:{ctx:e}}}),p=new pf({}),{c(){m&&m.c(),t=k(),r=C("div"),n=C("h3"),n.textContent="Calendar Sets",i=k(),o=C("div"),a=k(),s=C("div");for(let b=0;b<v.length;b+=1)v[b].c();l=k(),z(c.$$.fragment),u=k(),z(p.$$.fragment),S(n,"class","section-title svelte-7tzhh2"),S(o,"class","clickable-icon"),S(r,"class","section-nav svelte-7tzhh2"),S(s,"class","calendarset-container svelte-7tzhh2")},m(b,w){m&&m.m(b,w),T(b,t,w),T(b,r,w),x(r,n),x(r,i),x(r,o),e[7](o),T(b,a,w),T(b,s,w);for(let E=0;E<v.length;E+=1)v[E].m(s,null);T(b,l,w),B(c,b,w),T(b,u,w),B(p,b,w),f=!0,d||(_=L(o,"click",e[5]),d=!0)},p(b,[w]){if(b[4].showGettingStartedBanner?m?(m.p(b,w),w&16&&A(m,1)):(m=yd(b),m.c(),A(m,1),m.m(t.parentNode,t)):m&&(re(),F(m,1,1,()=>{m=null}),ne()),w&23){h=b[4].calendarSets;let P;for(P=0;P<h.length;P+=1){let M=vd(b,h,P);v[P]?(v[P].p(M,w),A(v[P],1)):(v[P]=_d(M),v[P].c(),A(v[P],1),v[P].m(s,null))}for(re(),P=h.length;P<v.length;P+=1)y(P);ne()}let E={};w&8208&&(E.$$scope={dirty:w,ctx:b}),c.$set(E)},i(b){if(!f){A(m);for(let w=0;w<h.length;w+=1)A(v[w]);A(c.$$.fragment,b),A(p.$$.fragment,b),f=!0}},o(b){F(m),v=v.filter(Boolean);for(let w=0;w<v.length;w+=1)F(v[w]);F(c.$$.fragment,b),F(p.$$.fragment,b),f=!1},d(b){m&&m.d(b),b&&O(t),b&&O(r),e[7](null),b&&O(a),b&&O(s),ke(v,b),b&&O(l),V(c,b),b&&O(u),V(p,b),d=!1,_()}}}function nS(e,t,r){let n,i=q,o=()=>(i(),i=fe(l,m=>r(4,n=m)),l);e.$$.on_destroy.push(()=>i());let{app:a}=t,{manager:s}=t,{settings:l}=t;o();let c;function u(){let m=1,h=n.calendarSets;for(;h.find(y=>y.id===`Calendar set ${m}`);)m++;let v=`Calendar set ${m}`;l.update(De(v)),ge.navigate(["Periodic Notes",v],{shouldRename:!0})}le(()=>{(0,bd.setIcon)(c,"plus",16)});let p=()=>{Kt(l,n.showGettingStartedBanner=!1,n)};function f(m){se[m?"unshift":"push"](()=>{c=m,r(3,c)})}let d=m=>ge.navigate(["Periodic Notes",m.id]),_=m=>{Kt(l,n.enableTimelineComplication=m,n)};return e.$$set=m=>{"app"in m&&r(0,a=m.app),"manager"in m&&r(1,s=m.manager),"settings"in m&&o(r(2,l=m.settings))},[a,s,l,c,n,u,p,f,d,_]}var Gi=class extends N{constructor(t){super(),j(this,t,nS,rS,I,{app:0,manager:1,settings:2},eS)}},wd=Gi;var Cn=require("obsidian");var NT=require("obsidian");var Qd=nt(fn());function iS(e){U(e,"svelte-152oqqu",".alert-warning.svelte-152oqqu.svelte-152oqqu{color:var(--text-muted);font-size:80%;margin-top:0.6em}.setting-item-control.svelte-152oqqu input.svelte-152oqqu{flex-grow:1}")}function oS(e){let t;function r(o,a){if(o[6]==="loose-parsing")return lS;if(o[6]==="fragile-basename")return sS}let n=r(e,-1),i=n&&n(e);return{c(){t=C("div"),i&&i.c(),S(t,"class","alert-warning svelte-152oqqu")},m(o,a){T(o,t,a),i&&i.m(t,null)},p(o,a){n===(n=r(o,a))&&i?i.p(o,a):(i&&i.d(1),i=n&&n(o),i&&(i.c(),i.m(t,null)))},d(o){o&&O(t),i&&i.d()}}}function aS(e){let t,r;return{c(){t=C("div"),r=D(e[5]),S(t,"class","has-error")},m(n,i){T(n,t,i),x(t,r)},p(n,i){i&32&&G(r,n[5])},d(n){n&&O(t)}}}function sS(e){let t,r,n,i,o,a=we[e[0]]+"",s;return{c(){t=D(`Your base filename is not uniquely identifiable. If you would still
          like to use this format, it is recommended that you include the
          following in the frontmatter of your daily note template:
          `),r=C("pre"),n=C("code"),i=D(e[0]),o=D(": "),s=D(a)},m(l,c){T(l,t,c),T(l,r,c),x(r,n),x(n,i),x(n,o),x(n,s)},p(l,c){c&1&&G(i,l[0]),c&1&&a!==(a=we[l[0]]+"")&&G(s,a)},d(l){l&&O(t),l&&O(r)}}}function lS(e){let t,r=K[e[0]].periodicity+"",n,i,o,a,s,l,c=we[e[0]]+"",u;return{c(){t=D(`Your filename format cannot be parsed. If you would still like to use
          this format for your `),n=D(r),i=D(` notes, you
          will need to include the following in the frontmatter of your template
          file:
          `),o=C("pre"),a=C("code"),s=D(e[0]),l=D(": "),u=D(c)},m(p,f){T(p,t,f),T(p,n,f),T(p,i,f),T(p,o,f),x(o,a),x(a,s),x(a,l),x(a,u)},p(p,f){f&1&&r!==(r=K[p[0]].periodicity+"")&&G(n,r),f&1&&G(s,p[0]),f&1&&c!==(c=we[p[0]]+"")&&G(u,c)},d(p){p&&O(t),p&&O(n),p&&O(i),p&&O(o)}}}function cS(e){let t,r,n,i,o,a,s,l,c,u,p=window.moment().format(e[4]||e[7])+"",f,d,_,m,h,v,y,b;function w(M,R){if(M[5])return aS;if(M[6]!=="valid")return oS}let E=w(e,-1),P=E&&E(e);return{c(){t=C("div"),r=C("div"),n=C("div"),n.textContent="Format",i=k(),o=C("div"),a=C("a"),a.textContent="Syntax Reference",s=k(),l=C("div"),c=D("Your current syntax looks like this: "),u=C("b"),f=D(p),d=k(),P&&P.c(),_=k(),m=C("div"),h=C("input"),S(n,"class","setting-item-name"),S(a,"href","https://momentjs.com/docs/#/displaying/format/"),S(u,"class","u-pop"),S(o,"class","setting-item-description"),S(r,"class","setting-item-info"),S(h,"type","text"),S(h,"spellcheck",v=!1),S(h,"placeholder",e[7]),S(h,"class","svelte-152oqqu"),H(h,"has-error",!!e[5]),S(m,"class","setting-item-control svelte-152oqqu"),S(t,"class","setting-item")},m(M,R){T(M,t,R),x(t,r),x(r,n),x(r,i),x(r,o),x(o,a),x(o,s),x(o,l),x(l,c),x(l,u),x(u,f),x(r,d),P&&P.m(r,null),x(t,_),x(t,m),x(m,h),je(h,e[2].format),e[11](h),y||(b=[L(h,"input",e[10]),L(h,"change",e[9]),L(h,"input",e[8])],y=!0)},p(M,[R]){R&16&&p!==(p=window.moment().format(M[4]||M[7])+"")&&G(f,p),E===(E=w(M,R))&&P?P.p(M,R):(P&&P.d(1),P=E&&E(M),P&&(P.c(),P.m(r,null))),R&4&&h.value!==M[2].format&&je(h,M[2].format),R&32&&H(h,"has-error",!!M[5])},i:q,o:q,d(M){M&&O(t),P&&P.d(),e[11](null),y=!1,X(b)}}}function uS(e,t,r){let n,i=q,o=()=>(i(),i=fe(s,v=>r(2,n=v)),s);e.$$.on_destroy.push(()=>i());let{granularity:a}=t,{config:s}=t;o();let l=we[a],c,u="",p,f;le(()=>{r(5,p=xi(c.value,a)),r(6,f=tn(c.value,a))});function d(){r(5,p="")}function _(){r(5,p=xi(c.value,a)),r(6,f=tn(c.value,a))}function m(){n.format=this.value,s.set(n)}function h(v){se[v?"unshift":"push"](()=>{c=v,r(3,c)})}return e.$$set=v=>{"granularity"in v&&r(0,a=v.granularity),"config"in v&&o(r(1,s=v.config))},e.$$.update=()=>{if(e.$$.dirty&4){e:r(4,u=n.format||"")}},[a,s,n,c,u,p,f,l,d,_,m,h]}var zi=class extends N{constructor(t){super(),j(this,t,uS,cS,I,{granularity:0,config:1},iS)}},xd=zi;var ao=nt(fn());var xn=require("obsidian");var Z="top",ce="bottom",oe="right",Q="left",mn="auto",Xe=[Z,ce,oe,Q],He="start",at="end",Sd="clippingParents",gn="viewport",Ft="popper",Cd="reference",Ui=Xe.reduce(function(e,t){return e.concat([t+"-"+He,t+"-"+at])},[]),hn=[].concat(Xe,[mn]).reduce(function(e,t){return e.concat([t,t+"-"+He,t+"-"+at])},[]),fS="beforeRead",pS="read",dS="afterRead",mS="beforeMain",gS="main",hS="afterMain",vS="beforeWrite",yS="write",_S="afterWrite",Ed=[fS,pS,dS,mS,gS,hS,vS,yS,_S];function pe(e){return e?(e.nodeName||"").toLowerCase():null}function J(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Ie(e){var t=J(e).Element;return e instanceof t||e instanceof Element}function ue(e){var t=J(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function kt(e){if(typeof ShadowRoot=="undefined")return!1;var t=J(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}function bS(e){var t=e.state;Object.keys(t.elements).forEach(function(r){var n=t.styles[r]||{},i=t.attributes[r]||{},o=t.elements[r];!ue(o)||!pe(o)||(Object.assign(o.style,n),Object.keys(i).forEach(function(a){var s=i[a];s===!1?o.removeAttribute(a):o.setAttribute(a,s===!0?"":s)}))})}function wS(e){var t=e.state,r={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,r.popper),t.styles=r,t.elements.arrow&&Object.assign(t.elements.arrow.style,r.arrow),function(){Object.keys(t.elements).forEach(function(n){var i=t.elements[n],o=t.attributes[n]||{},a=Object.keys(t.styles.hasOwnProperty(n)?t.styles[n]:r[n]),s=a.reduce(function(l,c){return l[c]="",l},{});!ue(i)||!pe(i)||(Object.assign(i.style,s),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}var Pd={name:"applyStyles",enabled:!0,phase:"write",fn:bS,effect:wS,requires:["computeStyles"]};function de(e){return e.split("-")[0]}var Te=Math.max,st=Math.min,Ve=Math.round;function Se(e,t){t===void 0&&(t=!1);var r=e.getBoundingClientRect(),n=1,i=1;if(ue(e)&&t){var o=e.offsetHeight,a=e.offsetWidth;a>0&&(n=Ve(r.width)/a||1),o>0&&(i=Ve(r.height)/o||1)}return{width:r.width/n,height:r.height/i,top:r.top/i,right:r.right/n,bottom:r.bottom/i,left:r.left/n,x:r.left/n,y:r.top/i}}function lt(e){var t=Se(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function hr(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&kt(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function he(e){return J(e).getComputedStyle(e)}function Wi(e){return["table","td","th"].indexOf(pe(e))>=0}function me(e){return((Ie(e)?e.ownerDocument:e.document)||window.document).documentElement}function Be(e){return pe(e)==="html"?e:e.assignedSlot||e.parentNode||(kt(e)?e.host:null)||me(e)}function Od(e){return!ue(e)||he(e).position==="fixed"?null:e.offsetParent}function xS(e){var t=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,r=navigator.userAgent.indexOf("Trident")!==-1;if(r&&ue(e)){var n=he(e);if(n.position==="fixed")return null}var i=Be(e);for(kt(i)&&(i=i.host);ue(i)&&["html","body"].indexOf(pe(i))<0;){var o=he(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Ae(e){for(var t=J(e),r=Od(e);r&&Wi(r)&&he(r).position==="static";)r=Od(r);return r&&(pe(r)==="html"||pe(r)==="body"&&he(r).position==="static")?t:r||xS(e)||t}function ct(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ut(e,t,r){return Te(e,st(t,r))}function Td(e,t,r){var n=ut(e,t,r);return n>r?r:n}function vr(){return{top:0,right:0,bottom:0,left:0}}function yr(e){return Object.assign({},vr(),e)}function _r(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var SS=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,yr(typeof t!="number"?t:_r(t,Xe))};function CS(e){var t,r=e.state,n=e.name,i=e.options,o=r.elements.arrow,a=r.modifiersData.popperOffsets,s=de(r.placement),l=ct(s),c=[Q,oe].indexOf(s)>=0,u=c?"height":"width";if(!(!o||!a)){var p=SS(i.padding,r),f=lt(o),d=l==="y"?Z:Q,_=l==="y"?ce:oe,m=r.rects.reference[u]+r.rects.reference[l]-a[l]-r.rects.popper[u],h=a[l]-r.rects.reference[l],v=Ae(o),y=v?l==="y"?v.clientHeight||0:v.clientWidth||0:0,b=m/2-h/2,w=p[d],E=y-f[u]-p[_],P=y/2-f[u]/2+b,M=ut(w,P,E),R=l;r.modifiersData[n]=(t={},t[R]=M,t.centerOffset=M-P,t)}}function ES(e){var t=e.state,r=e.options,n=r.element,i=n===void 0?"[data-popper-arrow]":n;i!=null&&(typeof i=="string"&&(i=t.elements.popper.querySelector(i),!i)||!hr(t.elements.popper,i)||(t.elements.arrow=i))}var Ad={name:"arrow",enabled:!0,phase:"main",fn:CS,effect:ES,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ce(e){return e.split("-")[1]}var PS={top:"auto",right:"auto",bottom:"auto",left:"auto"};function OS(e){var t=e.x,r=e.y,n=window,i=n.devicePixelRatio||1;return{x:Ve(t*i)/i||0,y:Ve(r*i)/i||0}}function Md(e){var t,r=e.popper,n=e.popperRect,i=e.placement,o=e.variation,a=e.offsets,s=e.position,l=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,p=e.isFixed,f=a.x,d=f===void 0?0:f,_=a.y,m=_===void 0?0:_,h=typeof u=="function"?u({x:d,y:m}):{x:d,y:m};d=h.x,m=h.y;var v=a.hasOwnProperty("x"),y=a.hasOwnProperty("y"),b=Q,w=Z,E=window;if(c){var P=Ae(r),M="clientHeight",R="clientWidth";if(P===J(r)&&(P=me(r),he(P).position!=="static"&&s==="absolute"&&(M="scrollHeight",R="scrollWidth")),P=P,i===Z||(i===Q||i===oe)&&o===at){w=ce;var ee=p&&P===E&&E.visualViewport?E.visualViewport.height:P[M];m-=ee-n.height,m*=l?1:-1}if(i===Q||(i===Z||i===ce)&&o===at){b=oe;var ae=p&&P===E&&E.visualViewport?E.visualViewport.width:P[R];d-=ae-n.width,d*=l?1:-1}}var $=Object.assign({position:s},c&&PS),ve=u===!0?OS({x:d,y:m}):{x:d,y:m};if(d=ve.x,m=ve.y,l){var ye;return Object.assign({},$,(ye={},ye[w]=y?"0":"",ye[b]=v?"0":"",ye.transform=(E.devicePixelRatio||1)<=1?"translate("+d+"px, "+m+"px)":"translate3d("+d+"px, "+m+"px, 0)",ye))}return Object.assign({},$,(t={},t[w]=y?m+"px":"",t[b]=v?d+"px":"",t.transform="",t))}function TS(e){var t=e.state,r=e.options,n=r.gpuAcceleration,i=n===void 0?!0:n,o=r.adaptive,a=o===void 0?!0:o,s=r.roundOffsets,l=s===void 0?!0:s;if(!1)var c;var u={placement:de(t.placement),variation:Ce(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:i,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Md(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:a,roundOffsets:l})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Md(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}var qd={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:TS,data:{}};var vn={passive:!0};function AS(e){var t=e.state,r=e.instance,n=e.options,i=n.scroll,o=i===void 0?!0:i,a=n.resize,s=a===void 0?!0:a,l=J(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&c.forEach(function(u){u.addEventListener("scroll",r.update,vn)}),s&&l.addEventListener("resize",r.update,vn),function(){o&&c.forEach(function(u){u.removeEventListener("scroll",r.update,vn)}),s&&l.removeEventListener("resize",r.update,vn)}}var Fd={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:AS,data:{}};var MS={left:"right",right:"left",bottom:"top",top:"bottom"};function Dt(e){return e.replace(/left|right|bottom|top/g,function(t){return MS[t]})}var qS={start:"end",end:"start"};function yn(e){return e.replace(/start|end/g,function(t){return qS[t]})}function ft(e){var t=J(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function pt(e){return Se(me(e)).left+ft(e).scrollLeft}function $i(e){var t=J(e),r=me(e),n=t.visualViewport,i=r.clientWidth,o=r.clientHeight,a=0,s=0;return n&&(i=n.width,o=n.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=n.offsetLeft,s=n.offsetTop)),{width:i,height:o,x:a+pt(e),y:s}}function Yi(e){var t,r=me(e),n=ft(e),i=(t=e.ownerDocument)==null?void 0:t.body,o=Te(r.scrollWidth,r.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),a=Te(r.scrollHeight,r.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),s=-n.scrollLeft+pt(e),l=-n.scrollTop;return he(i||r).direction==="rtl"&&(s+=Te(r.clientWidth,i?i.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}function dt(e){var t=he(e),r=t.overflow,n=t.overflowX,i=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function _n(e){return["html","body","#document"].indexOf(pe(e))>=0?e.ownerDocument.body:ue(e)&&dt(e)?e:_n(Be(e))}function Qe(e,t){var r;t===void 0&&(t=[]);var n=_n(e),i=n===((r=e.ownerDocument)==null?void 0:r.body),o=J(n),a=i?[o].concat(o.visualViewport||[],dt(n)?n:[]):n,s=t.concat(a);return i?s:s.concat(Qe(Be(a)))}function It(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function FS(e){var t=Se(e);return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function kd(e,t){return t===gn?It($i(e)):Ie(t)?FS(t):It(Yi(me(e)))}function kS(e){var t=Qe(Be(e)),r=["absolute","fixed"].indexOf(he(e).position)>=0,n=r&&ue(e)?Ae(e):e;return Ie(n)?t.filter(function(i){return Ie(i)&&hr(i,n)&&pe(i)!=="body"}):[]}function Ki(e,t,r){var n=t==="clippingParents"?kS(e):[].concat(t),i=[].concat(n,[r]),o=i[0],a=i.reduce(function(s,l){var c=kd(e,l);return s.top=Te(c.top,s.top),s.right=st(c.right,s.right),s.bottom=st(c.bottom,s.bottom),s.left=Te(c.left,s.left),s},kd(e,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function br(e){var t=e.reference,r=e.element,n=e.placement,i=n?de(n):null,o=n?Ce(n):null,a=t.x+t.width/2-r.width/2,s=t.y+t.height/2-r.height/2,l;switch(i){case Z:l={x:a,y:t.y-r.height};break;case ce:l={x:a,y:t.y+t.height};break;case oe:l={x:t.x+t.width,y:s};break;case Q:l={x:t.x-r.width,y:s};break;default:l={x:t.x,y:t.y}}var c=i?ct(i):null;if(c!=null){var u=c==="y"?"height":"width";switch(o){case He:l[c]=l[c]-(t[u]/2-r[u]/2);break;case at:l[c]=l[c]+(t[u]/2-r[u]/2);break;default:}}return l}function Me(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=n===void 0?e.placement:n,o=r.boundary,a=o===void 0?Sd:o,s=r.rootBoundary,l=s===void 0?gn:s,c=r.elementContext,u=c===void 0?Ft:c,p=r.altBoundary,f=p===void 0?!1:p,d=r.padding,_=d===void 0?0:d,m=yr(typeof _!="number"?_:_r(_,Xe)),h=u===Ft?Cd:Ft,v=e.rects.popper,y=e.elements[f?h:u],b=Ki(Ie(y)?y:y.contextElement||me(e.elements.popper),a,l),w=Se(e.elements.reference),E=br({reference:w,element:v,strategy:"absolute",placement:i}),P=It(Object.assign({},v,E)),M=u===Ft?P:w,R={top:b.top-M.top+m.top,bottom:M.bottom-b.bottom+m.bottom,left:b.left-M.left+m.left,right:M.right-b.right+m.right},ee=e.modifiersData.offset;if(u===Ft&&ee){var ae=ee[i];Object.keys(R).forEach(function($){var ve=[oe,ce].indexOf($)>=0?1:-1,ye=[Z,ce].indexOf($)>=0?"y":"x";R[$]+=ae[ye]*ve})}return R}function Zi(e,t){t===void 0&&(t={});var r=t,n=r.placement,i=r.boundary,o=r.rootBoundary,a=r.padding,s=r.flipVariations,l=r.allowedAutoPlacements,c=l===void 0?hn:l,u=Ce(n),p=u?s?Ui:Ui.filter(function(_){return Ce(_)===u}):Xe,f=p.filter(function(_){return c.indexOf(_)>=0});f.length===0&&(f=p);var d=f.reduce(function(_,m){return _[m]=Me(e,{placement:m,boundary:i,rootBoundary:o,padding:a})[de(m)],_},{});return Object.keys(d).sort(function(_,m){return d[_]-d[m]})}function DS(e){if(de(e)===mn)return[];var t=Dt(e);return[yn(e),t,yn(t)]}function IS(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!0:a,l=r.fallbackPlacements,c=r.padding,u=r.boundary,p=r.rootBoundary,f=r.altBoundary,d=r.flipVariations,_=d===void 0?!0:d,m=r.allowedAutoPlacements,h=t.options.placement,v=de(h),y=v===h,b=l||(y||!_?[Dt(h)]:DS(h)),w=[h].concat(b).reduce(function(gt,Ge){return gt.concat(de(Ge)===mn?Zi(t,{placement:Ge,boundary:u,rootBoundary:p,padding:c,flipVariations:_,allowedAutoPlacements:m}):Ge)},[]),E=t.rects.reference,P=t.rects.popper,M=new Map,R=!0,ee=w[0],ae=0;ae<w.length;ae++){var $=w[ae],ve=de($),ye=Ce($)===He,Ht=[Z,ce].indexOf(ve)>=0,Vt=Ht?"width":"height",_e=Me(t,{placement:$,boundary:u,rootBoundary:p,altBoundary:f,padding:c}),Ee=Ht?ye?oe:Q:ye?ce:Z;E[Vt]>P[Vt]&&(Ee=Dt(Ee));var Cr=Dt(Ee),et=[];if(o&&et.push(_e[ve]<=0),s&&et.push(_e[Ee]<=0,_e[Cr]<=0),et.every(function(gt){return gt})){ee=$,R=!1;break}M.set($,et)}if(R)for(var Er=_?3:1,In=function(Ge){var Gt=w.find(function(Or){var tt=M.get(Or);if(tt)return tt.slice(0,Ge).every(function(Nn){return Nn})});if(Gt)return ee=Gt,"break"},Bt=Er;Bt>0;Bt--){var Pr=In(Bt);if(Pr==="break")break}t.placement!==ee&&(t.modifiersData[n]._skip=!0,t.placement=ee,t.reset=!0)}}var Dd={name:"flip",enabled:!0,phase:"main",fn:IS,requiresIfExists:["offset"],data:{_skip:!1}};function Id(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Nd(e){return[Z,oe,ce,Q].some(function(t){return e[t]>=0})}function NS(e){var t=e.state,r=e.name,n=t.rects.reference,i=t.rects.popper,o=t.modifiersData.preventOverflow,a=Me(t,{elementContext:"reference"}),s=Me(t,{altBoundary:!0}),l=Id(a,n),c=Id(s,i,o),u=Nd(l),p=Nd(c);t.modifiersData[r]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":p})}var Ld={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:NS};function LS(e,t,r){var n=de(e),i=[Q,Z].indexOf(n)>=0?-1:1,o=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,a=o[0],s=o[1];return a=a||0,s=(s||0)*i,[Q,oe].indexOf(n)>=0?{x:s,y:a}:{x:a,y:s}}function jS(e){var t=e.state,r=e.options,n=e.name,i=r.offset,o=i===void 0?[0,0]:i,a=hn.reduce(function(u,p){return u[p]=LS(p,t.rects,o),u},{}),s=a[t.placement],l=s.x,c=s.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=c),t.modifiersData[n]=a}var jd={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:jS};function RS(e){var t=e.state,r=e.name;t.modifiersData[r]=br({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}var Rd={name:"popperOffsets",enabled:!0,phase:"read",fn:RS,data:{}};function Xi(e){return e==="x"?"y":"x"}function HS(e){var t=e.state,r=e.options,n=e.name,i=r.mainAxis,o=i===void 0?!0:i,a=r.altAxis,s=a===void 0?!1:a,l=r.boundary,c=r.rootBoundary,u=r.altBoundary,p=r.padding,f=r.tether,d=f===void 0?!0:f,_=r.tetherOffset,m=_===void 0?0:_,h=Me(t,{boundary:l,rootBoundary:c,padding:p,altBoundary:u}),v=de(t.placement),y=Ce(t.placement),b=!y,w=ct(v),E=Xi(w),P=t.modifiersData.popperOffsets,M=t.rects.reference,R=t.rects.popper,ee=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,ae=typeof ee=="number"?{mainAxis:ee,altAxis:ee}:Object.assign({mainAxis:0,altAxis:0},ee),$=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,ve={x:0,y:0};if(!!P){if(o){var ye,Ht=w==="y"?Z:Q,Vt=w==="y"?ce:oe,_e=w==="y"?"height":"width",Ee=P[w],Cr=Ee+h[Ht],et=Ee-h[Vt],Er=d?-R[_e]/2:0,In=y===He?M[_e]:R[_e],Bt=y===He?-R[_e]:-M[_e],Pr=t.elements.arrow,gt=d&&Pr?lt(Pr):{width:0,height:0},Ge=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:vr(),Gt=Ge[Ht],Or=Ge[Vt],tt=ut(0,M[_e],gt[_e]),Nn=b?M[_e]/2-Er-tt-Gt-ae.mainAxis:In-tt-Gt-ae.mainAxis,rg=b?-M[_e]/2+Er+tt+Or+ae.mainAxis:Bt+tt+Or+ae.mainAxis,Ln=t.elements.arrow&&Ae(t.elements.arrow),ng=Ln?w==="y"?Ln.clientTop||0:Ln.clientLeft||0:0,wo=(ye=$==null?void 0:$[w])!=null?ye:0,ig=Ee+Nn-wo-ng,og=Ee+rg-wo,xo=ut(d?st(Cr,ig):Cr,Ee,d?Te(et,og):et);P[w]=xo,ve[w]=xo-Ee}if(s){var So,ag=w==="x"?Z:Q,sg=w==="x"?ce:oe,rt=P[E],Tr=E==="y"?"height":"width",Co=rt+h[ag],Eo=rt-h[sg],jn=[Z,Q].indexOf(v)!==-1,Po=(So=$==null?void 0:$[E])!=null?So:0,Oo=jn?Co:rt-M[Tr]-R[Tr]-Po+ae.altAxis,To=jn?rt+M[Tr]+R[Tr]-Po-ae.altAxis:Eo,Ao=d&&jn?Td(Oo,rt,To):ut(d?Oo:Co,rt,d?To:Eo);P[E]=Ao,ve[E]=Ao-rt}t.modifiersData[n]=ve}}var Hd={name:"preventOverflow",enabled:!0,phase:"main",fn:HS,requiresIfExists:["offset"]};function Qi(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Ji(e){return e===J(e)||!ue(e)?ft(e):Qi(e)}function VS(e){var t=e.getBoundingClientRect(),r=Ve(t.width)/e.offsetWidth||1,n=Ve(t.height)/e.offsetHeight||1;return r!==1||n!==1}function eo(e,t,r){r===void 0&&(r=!1);var n=ue(t),i=ue(t)&&VS(t),o=me(t),a=Se(e,i),s={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(n||!n&&!r)&&((pe(t)!=="body"||dt(o))&&(s=Ji(t)),ue(t)?(l=Se(t,!0),l.x+=t.clientLeft,l.y+=t.clientTop):o&&(l.x=pt(o))),{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function BS(e){var t=new Map,r=new Set,n=[];e.forEach(function(o){t.set(o.name,o)});function i(o){r.add(o.name);var a=[].concat(o.requires||[],o.requiresIfExists||[]);a.forEach(function(s){if(!r.has(s)){var l=t.get(s);l&&i(l)}}),n.push(o)}return e.forEach(function(o){r.has(o.name)||i(o)}),n}function to(e){var t=BS(e);return Ed.reduce(function(r,n){return r.concat(t.filter(function(i){return i.phase===n}))},[])}function ro(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function no(e){var t=e.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var Vd={placement:"bottom",modifiers:[],strategy:"absolute"};function Bd(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function Gd(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,i=t.defaultOptions,o=i===void 0?Vd:i;return function(s,l,c){c===void 0&&(c=o);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Vd,o),modifiersData:{},elements:{reference:s,popper:l},attributes:{},styles:{}},p=[],f=!1,d={state:u,setOptions:function(v){var y=typeof v=="function"?v(u.options):v;m(),u.options=Object.assign({},o,u.options,y),u.scrollParents={reference:Ie(s)?Qe(s):s.contextElement?Qe(s.contextElement):[],popper:Qe(l)};var b=to(no([].concat(n,u.options.modifiers)));if(u.orderedModifiers=b.filter(function($){return $.enabled}),!1){var w;if(getBasePlacement(u.options.placement)===auto)var E;var P,M,R,ee,ae}return _(),d.update()},forceUpdate:function(){if(!f){var v=u.elements,y=v.reference,b=v.popper;if(!!Bd(y,b)){u.rects={reference:eo(y,Ae(b),u.options.strategy==="fixed"),popper:lt(b)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function($){return u.modifiersData[$.name]=Object.assign({},$.data)});for(var w=0,E=0;E<u.orderedModifiers.length;E++){if(u.reset===!0){u.reset=!1,E=-1;continue}var P=u.orderedModifiers[E],M=P.fn,R=P.options,ee=R===void 0?{}:R,ae=P.name;typeof M=="function"&&(u=M({state:u,options:ee,name:ae,instance:d})||u)}}}},update:ro(function(){return new Promise(function(h){d.forceUpdate(),h(u)})}),destroy:function(){m(),f=!0}};if(!Bd(s,l))return d;d.setOptions(c).then(function(h){!f&&c.onFirstUpdate&&c.onFirstUpdate(h)});function _(){u.orderedModifiers.forEach(function(h){var v=h.name,y=h.options,b=y===void 0?{}:y,w=h.effect;if(typeof w=="function"){var E=w({state:u,name:v,instance:d,options:b}),P=function(){};p.push(E||P)}})}function m(){p.forEach(function(h){return h()}),p=[]}return d}}var GS=[Fd,Rd,qd,Pd,jd,Dd,Hd,Ad,Ld],io=Gd({defaultModifiers:GS});var zd=require("obsidian");var oo=class{constructor(t,r,n){this.owner=t,this.containerEl=r,r.on("click",".suggestion-item",this.onSuggestionClick.bind(this)),r.on("mousemove",".suggestion-item",this.onSuggestionMouseover.bind(this)),n.register([],"ArrowUp",i=>{if(!i.isComposing)return this.setSelectedItem(this.selectedItem-1,!0),!1}),n.register([],"ArrowDown",i=>{if(!i.isComposing)return this.setSelectedItem(this.selectedItem+1,!0),!1}),n.register([],"Enter",i=>{if(!i.isComposing)return this.useSelectedItem(i),!1})}onSuggestionClick(t,r){t.preventDefault();let n=this.suggestions.indexOf(r);this.setSelectedItem(n,!1),this.useSelectedItem(t)}onSuggestionMouseover(t,r){let n=this.suggestions.indexOf(r);this.setSelectedItem(n,!1)}setSuggestions(t){this.containerEl.empty();let r=[];t.forEach(n=>{let i=this.containerEl.createDiv("suggestion-item");this.owner.renderSuggestion(n,i),r.push(i)}),this.values=t,this.suggestions=r,this.setSelectedItem(0,!1)}useSelectedItem(t){let r=this.values[this.selectedItem];r&&this.owner.selectSuggestion(r,t)}setSelectedItem(t,r){let n=Dp(t,this.suggestions.length),i=this.suggestions[this.selectedItem],o=this.suggestions[n];i==null||i.removeClass("is-selected"),o==null||o.addClass("is-selected"),this.selectedItem=n,r&&o.scrollIntoView(!1)}},wr=class{constructor(t,r){this.app=t,this.inputEl=r,this.scope=new zd.Scope,this.suggestEl=createDiv("suggestion-container");let n=this.suggestEl.createDiv("suggestion");this.suggest=new oo(this,n,this.scope),this.scope.register([],"Escape",this.close.bind(this)),this.inputEl.addEventListener("input",this.onInputChanged.bind(this)),this.inputEl.addEventListener("focus",this.onInputChanged.bind(this)),this.inputEl.addEventListener("blur",this.close.bind(this)),this.suggestEl.on("mousedown",".suggestion-container",i=>{i.preventDefault()})}onInputChanged(){let t=this.inputEl.value,r=this.getSuggestions(t);r.length>0&&(this.suggest.setSuggestions(r),this.open(this.app.dom.appContainerEl,this.inputEl))}open(t,r){this.app.keymap.pushScope(this.scope),t.appendChild(this.suggestEl),this.popper=io(r,this.suggestEl,{placement:"bottom-start",modifiers:[{name:"sameWidth",enabled:!0,fn:({state:n,instance:i})=>{let o=`${n.rects.reference.width}px`;n.styles.popper.width!==o&&(n.styles.popper.width=o,i.update())},phase:"beforeWrite",requires:["computeStyles"]}]})}close(){this.app.keymap.popScope(this.scope),this.suggest.setSuggestions([]),this.popper.destroy(),this.suggestEl.detach()}};var bn=class extends wr{getSuggestions(t){let r=this.app.vault.getAllLoadedFiles(),n=[],i=t.toLowerCase();return r.forEach(o=>{o instanceof xn.TFile&&o.extension==="md"&&o.path.toLowerCase().contains(i)&&n.push(o)}),n}renderSuggestion(t,r){r.setText(t.path)}selectSuggestion(t){this.inputEl.value=t.path,this.inputEl.trigger("input"),this.close()}},wn=class extends wr{getSuggestions(t){let r=this.app.vault.getAllLoadedFiles(),n=[],i=t.toLowerCase();return r.forEach(o=>{o instanceof xn.TFolder&&o.path.toLowerCase().contains(i)&&n.push(o)}),n}renderSuggestion(t,r){r.setText(t.path)}selectSuggestion(t){this.inputEl.value=t.path,this.inputEl.trigger("input"),this.close()}};function zS(e){U(e,"svelte-1vhf060",".setting-item-control.svelte-1vhf060 input.svelte-1vhf060{flex-grow:1}")}function Ud(e){let t,r;return{c(){t=C("div"),r=D(e[2]),S(t,"class","has-error")},m(n,i){T(n,t,i),x(t,r)},p(n,i){i&4&&G(r,n[2])},d(n){n&&O(t)}}}function US(e){let t,r,n,i=(0,ao.default)(K[e[0]].periodicity)+"",o,a,s,l,c,u,p,f,d,_,m,h=e[2]&&Ud(e);return{c(){t=C("div"),r=C("div"),n=C("div"),o=D(i),a=D(" Note Template"),s=k(),l=C("div"),l.textContent="Choose the file to use as a template",c=k(),h&&h.c(),u=k(),p=C("div"),f=C("input"),S(n,"class","setting-item-name"),S(l,"class","setting-item-description"),S(r,"class","setting-item-info"),S(f,"type","text"),S(f,"spellcheck",d=!1),S(f,"placeholder","e.g. templates/template-file"),S(f,"class","svelte-1vhf060"),H(f,"has-error",!!e[2]),S(p,"class","setting-item-control svelte-1vhf060"),S(t,"class","setting-item")},m(v,y){T(v,t,y),x(t,r),x(r,n),x(n,o),x(n,a),x(r,s),x(r,l),x(r,c),h&&h.m(r,null),x(t,u),x(t,p),x(p,f),je(f,e[4].templatePath),e[9](f),_||(m=[L(f,"input",e[8]),L(f,"change",e[5]),L(f,"input",e[6])],_=!0)},p(v,[y]){y&1&&i!==(i=(0,ao.default)(K[v[0]].periodicity)+"")&&G(o,i),v[2]?h?h.p(v,y):(h=Ud(v),h.c(),h.m(r,null)):h&&(h.d(1),h=null),y&16&&f.value!==v[4].templatePath&&je(f,v[4].templatePath),y&4&&H(f,"has-error",!!v[2])},i:q,o:q,d(v){v&&O(t),h&&h.d(),e[9](null),_=!1,X(m)}}}function WS(e,t,r){let n,i=q,o=()=>(i(),i=fe(l,m=>r(4,n=m)),l);e.$$.on_destroy.push(()=>i());let{app:a}=t,{granularity:s}=t,{config:l}=t;o();let c,u;function p(){r(2,c=Si(a,u.value))}function f(){r(2,c="")}le(()=>{r(2,c=Si(a,u.value)),new bn(a,u)});function d(){n.templatePath=this.value,l.set(n)}function _(m){se[m?"unshift":"push"](()=>{u=m,r(3,u)})}return e.$$set=m=>{"app"in m&&r(7,a=m.app),"granularity"in m&&r(0,s=m.granularity),"config"in m&&o(r(1,l=m.config))},[s,l,c,u,n,p,f,a,d,_]}var so=class extends N{constructor(t){super(),j(this,t,WS,US,I,{app:7,granularity:0,config:1},zS)}},Wd=so;function $S(e){U(e,"svelte-1vhf060",".setting-item-control.svelte-1vhf060 input.svelte-1vhf060{flex-grow:1}")}function $d(e){let t,r;return{c(){t=C("div"),r=D(e[3]),S(t,"class","has-error")},m(n,i){T(n,t,i),x(t,r)},p(n,i){i&8&&G(r,n[3])},d(n){n&&O(t)}}}function YS(e){let t,r,n,i,o,a,s=K[e[1]].periodicity+"",l,c,u,p,f,d,_,m,h,v=e[3]&&$d(e);return{c(){t=C("div"),r=C("div"),n=C("div"),n.textContent="Note Folder",i=k(),o=C("div"),a=D("New "),l=D(s),c=D(" notes will be placed here"),u=k(),v&&v.c(),p=k(),f=C("div"),d=C("input"),S(n,"class","setting-item-name"),S(o,"class","setting-item-description"),S(r,"class","setting-item-info"),S(d,"type","text"),S(d,"spellcheck",_=!1),S(d,"placeholder","e.g. folder 1/folder 2"),S(d,"class","svelte-1vhf060"),H(d,"has-error",!!e[3]),S(f,"class","setting-item-control svelte-1vhf060"),S(t,"class","setting-item")},m(y,b){T(y,t,b),x(t,r),x(r,n),x(r,i),x(r,o),x(o,a),x(o,l),x(o,c),x(r,u),v&&v.m(r,null),x(t,p),x(t,f),x(f,d),je(d,e[4].folder),e[9](d),m||(h=[L(d,"input",e[8]),L(d,"change",e[5]),L(d,"input",e[6])],m=!0)},p(y,[b]){b&2&&s!==(s=K[y[1]].periodicity+"")&&G(l,s),y[3]?v?v.p(y,b):(v=$d(y),v.c(),v.m(r,null)):v&&(v.d(1),v=null),b&16&&d.value!==y[4].folder&&je(d,y[4].folder),b&8&&H(d,"has-error",!!y[3])},i:q,o:q,d(y){y&&O(t),v&&v.d(),e[9](null),m=!1,X(h)}}}function KS(e,t,r){let n,i=q,o=()=>(i(),i=fe(a,m=>r(4,n=m)),a);e.$$.on_destroy.push(()=>i());let{config:a}=t;o();let{app:s}=t,{granularity:l}=t,c,u;function p(){r(3,u=Ci(s,c.value))}function f(){r(3,u="")}le(()=>{r(3,u=Ci(s,c.value)),new wn(s,c)});function d(){n.folder=this.value,a.set(n)}function _(m){se[m?"unshift":"push"](()=>{c=m,r(2,c)})}return e.$$set=m=>{"config"in m&&o(r(0,a=m.config)),"app"in m&&r(7,s=m.app),"granularity"in m&&r(1,l=m.granularity)},[a,l,c,u,n,p,f,s,d,_]}var lo=class extends N{constructor(t){super(),j(this,t,KS,YS,I,{config:0,app:7,granularity:1},$S)}},Yd=lo;function Sn(e,t,r,n){var i,o,a=!0,s="withOld"in r,l=(v,y)=>{if(i=y,s&&(o=v),a){let b=t(v,y);if(t.length<2)y(b);else return b}},c=ra(e,l,n),u=!Array.isArray(e),p=v=>{a=!1,u?e.set(v):v.forEach((y,b)=>{e[b].set(y)}),a=!0};s&&(r=r.withOld);var f=r.length>=(s?3:2),d=null;function _(v){if(d&&(d(),d=null),s)var y=r(v,o,p);else var y=r(v,p);f?typeof y=="function"&&(d=y):p(y)}var m=!1;function h(v){var y,b,w,E;if(m){E=v(qe(c)),i(E);return}var P=c.subscribe(M=>{m?y?b=!0:y=!0:w=M});E=v(w),m=!0,i(E),P(),m=!1,b&&(E=qe(c)),y&&_(E)}return{subscribe:c.subscribe,set(v){h(()=>v)},update:h}}function ZS(e){let t,r;return t=new on({props:{slot:"control",isEnabled:e[3].openAtStartup,onChange:e[4]}}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},p(n,i){let o={};i&8&&(o.isEnabled=n[3].openAtStartup),i&10&&(o.onChange=n[4]),t.$set(o)},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function XS(e){let t,r;return t=new nn({props:{name:"Open on startup",description:`Opens your ${K[e[2]].periodicity} note automatically whenever you open this vault`,type:"toggle",isHeading:!1,$$slots:{control:[ZS]},$$scope:{ctx:e}}}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},p(n,[i]){let o={};i&4&&(o.description=`Opens your ${K[n[2]].periodicity} note automatically whenever you open this vault`),i&42&&(o.$$scope={dirty:i,ctx:n}),t.$set(o)},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function QS(e,t,r){let n,i=q,o=()=>(i(),i=fe(a,u=>r(3,n=u)),a);e.$$.on_destroy.push(()=>i());let{config:a}=t;o();let{settings:s}=t,{granularity:l}=t,c=u=>{s.update(Fp),Kt(a,n.openAtStartup=u,n)};return e.$$set=u=>{"config"in u&&o(r(0,a=u.config)),"settings"in u&&r(1,s=u.settings),"granularity"in u&&r(2,l=u.granularity)},[a,s,l,n,c]}var co=class extends N{constructor(t){super(),j(this,t,QS,XS,I,{config:0,settings:1,granularity:2})}},Kd=co;function JS(e){U(e,"svelte-165itr7",".periodic-group-title.svelte-165itr7.svelte-165itr7{display:flex}.badge.svelte-165itr7.svelte-165itr7{font-style:italic;margin-left:1em;color:var(--text-muted);font-weight:500;font-size:70%}.periodic-group.svelte-165itr7.svelte-165itr7{background:var(--background-primary-alt);border:1px solid var(--background-modifier-border);border-radius:16px}.periodic-group.svelte-165itr7.svelte-165itr7:not(:last-of-type){margin-bottom:24px}.periodic-group-heading.svelte-165itr7.svelte-165itr7{cursor:pointer;padding:24px}.periodic-group-heading.svelte-165itr7 h3.svelte-165itr7{font-size:1.1em;margin:0}.periodic-group-content.svelte-165itr7.svelte-165itr7{padding:24px}")}function Zd(e){let t;return{c(){t=C("span"),t.textContent="Opens at startup",S(t,"class","badge svelte-165itr7")},m(r,n){T(r,t,n)},d(r){r&&O(t)}}}function Xd(e){let t,r,n,i,o,a,s,l,c,u,p;return r=new xd({props:{config:e[6],granularity:e[1]}}),i=new Yd({props:{app:e[0],config:e[6],granularity:e[1]}}),a=new Wd({props:{app:e[0],config:e[6],granularity:e[1]}}),l=new Kd({props:{config:e[6],settings:e[2],granularity:e[1]}}),{c(){t=C("div"),z(r.$$.fragment),n=k(),z(i.$$.fragment),o=k(),z(a.$$.fragment),s=k(),z(l.$$.fragment),S(t,"class","periodic-group-content svelte-165itr7")},m(f,d){T(f,t,d),B(r,t,null),x(t,n),B(i,t,null),x(t,o),B(a,t,null),x(t,s),B(l,t,null),p=!0},p(f,d){let _={};d&2&&(_.granularity=f[1]),r.$set(_);let m={};d&1&&(m.app=f[0]),d&2&&(m.granularity=f[1]),i.$set(m);let h={};d&1&&(h.app=f[0]),d&2&&(h.granularity=f[1]),a.$set(h);let v={};d&4&&(v.settings=f[2]),d&2&&(v.granularity=f[1]),l.$set(v)},i(f){p||(A(r.$$.fragment,f),A(i.$$.fragment,f),A(a.$$.fragment,f),A(l.$$.fragment,f),f&&be(()=>{u&&u.end(1),c=yt(t,dr,{duration:300}),c.start()}),p=!0)},o(f){F(r.$$.fragment,f),F(i.$$.fragment,f),F(a.$$.fragment,f),F(l.$$.fragment,f),c&&c.invalidate(),f&&(u=Ue(t,dr,{duration:300})),p=!1},d(f){f&&O(t),V(r),V(i),V(a),V(l),f&&u&&u.end()}}}function eC(e){let t,r,n,i,o,a,s=(0,Qd.default)(e[5].periodicity)+"",l,c,u,p,f,d,_,m,h,v;o=new rn({props:{isExpanded:e[3]}});let y=e[4].openAtStartup&&Zd(e),b=e[3]&&Xd(e);return{c(){t=C("div"),r=C("div"),n=C("div"),i=C("h3"),z(o.$$.fragment),a=k(),l=D(s),c=D(` Notes
        `),y&&y.c(),u=k(),p=C("div"),f=C("label"),d=C("input"),_=k(),b&&b.c(),S(i,"class","setting-item-name periodic-group-title svelte-165itr7"),S(n,"class","setting-item-info"),S(d,"type","checkbox"),Ko(d,"display","none"),S(f,"class","checkbox-container"),H(f,"is-enabled",e[4].enabled),S(p,"class","setting-item-control"),S(r,"class","setting-item setting-item-heading periodic-group-heading svelte-165itr7"),S(t,"class","periodic-group svelte-165itr7")},m(w,E){T(w,t,E),x(t,r),x(r,n),x(n,i),B(o,i,null),x(i,a),x(i,l),x(i,c),y&&y.m(i,null),x(r,u),x(r,p),x(p,f),x(f,d),d.checked=e[4].enabled,x(t,_),b&&b.m(t,null),m=!0,h||(v=[L(d,"change",e[10]),L(f,"click",Lr(e[9])),L(r,"click",e[7])],h=!0)},p(w,[E]){let P={};E&8&&(P.isExpanded=w[3]),o.$set(P),w[4].openAtStartup?y||(y=Zd(w),y.c(),y.m(i,null)):y&&(y.d(1),y=null),E&16&&(d.checked=w[4].enabled),E&16&&H(f,"is-enabled",w[4].enabled),w[3]?b?(b.p(w,E),E&8&&A(b,1)):(b=Xd(w),b.c(),A(b,1),b.m(t,null)):b&&(re(),F(b,1,1,()=>{b=null}),ne())},i(w){m||(A(o.$$.fragment,w),A(b),m=!0)},o(w){F(o.$$.fragment,w),F(b),m=!1},d(w){w&&O(t),V(o),y&&y.d(),b&&b.d(),h=!1,X(v)}}}function tC(e,t,r){let n,{app:i}=t,{calendarSetId:o}=t,{granularity:a}=t,{settings:s}=t,l=K[a],c=!1,u=Sn(s,m=>m.calendarSets.find(h=>h.id===o),{withOld(m,h){let v=h.calendarSets.findIndex(y=>y.id===o);return h.calendarSets[v]=m,h}}),p=Sn(u,m=>{var h;return(h=m==null?void 0:m[a])!==null&&h!==void 0?h:Ze},{withOld(m,h){return h[a]=m,h}});Fe(e,p,m=>r(4,n=m));function f(){r(3,c=!c)}function d(m){Qo.call(this,e,m)}function _(){n.enabled=this.checked,p.set(n)}return e.$$set=m=>{"app"in m&&r(0,i=m.app),"calendarSetId"in m&&r(8,o=m.calendarSetId),"granularity"in m&&r(1,a=m.granularity),"settings"in m&&r(2,s=m.settings)},[i,a,s,c,n,l,p,f,o,d,_]}var uo=class extends N{constructor(t){super(),j(this,t,tC,eC,I,{app:0,calendarSetId:8,granularity:1,settings:2},JS)}},Jd=uo;function rC(e){U(e,"svelte-1t6642d",".calendarset-titlebar.svelte-1t6642d.svelte-1t6642d{align-items:center;display:flex;justify-content:space-between;margin-top:12px}.calendarset-title.svelte-1t6642d.svelte-1t6642d{font-size:1.6em;min-width:100px}.calendarset-error.svelte-1t6642d.svelte-1t6642d{color:var(--text-error)}.calendarset-groups.svelte-1t6642d.svelte-1t6642d{margin-top:2em}.calendarset-toolbar.svelte-1t6642d.svelte-1t6642d{align-items:center;display:flex;gap:8px}.calendarset-toolbar.svelte-1t6642d .view-action.svelte-1t6642d{padding:2px}.active-calendarset-badge.svelte-1t6642d.svelte-1t6642d{background-color:var(--background-primary);border-radius:6px;border:1px solid var(--background-modifier-border);color:var(--text-accent);font-size:0.6em;font-weight:600;letter-spacing:0.25px;padding:0.2em 0.8em;text-transform:uppercase}")}function em(e,t,r){let n=e.slice();return n[16]=t[r],n}function tm(e){let t;return{c(){t=C("div"),t.textContent="Active",S(t,"class","active-calendarset-badge svelte-1t6642d")},m(r,n){T(r,t,n)},d(r){r&&O(t)}}}function rm(e){let t,r;return{c(){t=C("div"),r=D(e[7]),S(t,"class","calendarset-error svelte-1t6642d")},m(n,i){T(n,t,i),x(t,r)},p(n,i){i&128&&G(r,n[7])},d(n){n&&O(t)}}}function nm(e){let t,r;return t=new Jd({props:{app:e[0],granularity:e[16],settings:e[1],calendarSetId:e[2]}}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},p(n,i){let o={};i&1&&(o.app=n[0]),i&2&&(o.settings=n[1]),i&4&&(o.calendarSetId=n[2]),t.$set(o)},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function nC(e){let t,r,n,i,o,a,s,l,c,u,p,f,d=e[6]&&tm(e),_=e[7]&&rm(e),m=ie,h=[];for(let y=0;y<m.length;y+=1)h[y]=nm(em(e,m,y));let v=y=>F(h[y],1,1,()=>{h[y]=null});return{c(){t=C("div"),r=C("div"),n=k(),i=C("div"),d&&d.c(),o=k(),a=C("div"),s=k(),_&&_.c(),l=k(),c=C("div");for(let y=0;y<h.length;y+=1)h[y].c();S(r,"class","calendarset-title svelte-1t6642d"),S(r,"contenteditable","true"),e[5]===void 0&&be(()=>e[11].call(r)),S(a,"class","view-action svelte-1t6642d"),S(i,"class","calendarset-toolbar svelte-1t6642d"),S(t,"class","calendarset-titlebar svelte-1t6642d"),S(c,"class","calendarset-groups svelte-1t6642d")},m(y,b){T(y,t,b),x(t,r),e[5]!==void 0&&(r.innerHTML=e[5]),e[12](r),x(t,n),x(t,i),d&&d.m(i,null),x(i,o),x(i,a),e[13](a),T(y,s,b),_&&_.m(y,b),T(y,l,b),T(y,c,b);for(let w=0;w<h.length;w+=1)h[w].m(c,null);u=!0,p||(f=[L(r,"input",e[11]),L(r,"blur",e[8]),L(r,"keypress",iC),L(a,"click",e[9])],p=!0)},p(y,[b]){if(b&32&&y[5]!==r.innerHTML&&(r.innerHTML=y[5]),y[6]?d||(d=tm(y),d.c(),d.m(i,o)):d&&(d.d(1),d=null),y[7]?_?_.p(y,b):(_=rm(y),_.c(),_.m(l.parentNode,l)):_&&(_.d(1),_=null),b&7){m=ie;let w;for(w=0;w<m.length;w+=1){let E=em(y,m,w);h[w]?(h[w].p(E,b),A(h[w],1)):(h[w]=nm(E),h[w].c(),A(h[w],1),h[w].m(c,null))}for(re(),w=m.length;w<h.length;w+=1)v(w);ne()}},i(y){if(!u){for(let b=0;b<m.length;b+=1)A(h[b]);u=!0}},o(y){h=h.filter(Boolean);for(let b=0;b<h.length;b+=1)F(h[b]);u=!1},d(y){y&&O(t),e[12](null),d&&d.d(),e[13](null),y&&O(s),_&&_.d(y),y&&O(l),y&&O(c),ke(h,y),p=!1,X(f)}}}function iC(e){e.key==="Enter"&&(e.preventDefault(),e.target.blur())}function oC(e){e.focus();let t=document.createRange();t.selectNodeContents(e);let r=window.getSelection();r==null||r.removeAllRanges(),r==null||r.addRange(t)}function aC(e,t,r){let n,i,o=q,a=()=>(o(),o=fe(l,E=>r(15,i=E)),l);Fe(e,ge,E=>r(14,n=E)),e.$$.on_destroy.push(()=>o());let{app:s}=t,{settings:l}=t;a();let{manager:c}=t,{selectedCalendarSet:u}=t,p,f,d=u,_=u===c.getActiveId(),m="";function h(E){let P=E.target.innerHTML.trim();try{c.renameCalendarset(u,P),ge.navigate(["Periodic Notes",P])}catch(M){r(7,m=M.toString()),E.target.focus()}}function v(E){let P=new Cn.Menu(s);_||P.addItem(M=>M.setTitle("Set as active").setIcon("check-circle-2").onClick(()=>{l.update(Ke(u)),r(6,_=!0)})).addSeparator(),P.addItem(M=>M.setTitle("Duplicate calendar set").setIcon("copy").onClick(()=>{let R=c.getCalendarSets().find(ae=>ae.id===u),ee=`${u} copy`;l.update(De(ee,R)),ge.navigate(["Periodic Notes",ee],{shouldRename:!0})})).addItem(M=>M.setTitle("Delete calendar set").setIcon("x").setDisabled(c.getCalendarSets().length===1).onClick(()=>{cn(u)(i),ge.navigate(["Periodic Notes"])})).showAtMouseEvent(E)}le(()=>{(0,Cn.setIcon)(f,"more-vertical",18),document.getElementsByClassName("vertical-tab-content")[0].scroll(0,0),n.eState.shouldRename&&oC(p)});function y(){d=this.innerHTML,r(5,d)}function b(E){se[E?"unshift":"push"](()=>{p=E,r(3,p)})}function w(E){se[E?"unshift":"push"](()=>{f=E,r(4,f)})}return e.$$set=E=>{"app"in E&&r(0,s=E.app),"settings"in E&&a(r(1,l=E.settings)),"manager"in E&&r(10,c=E.manager),"selectedCalendarSet"in E&&r(2,u=E.selectedCalendarSet)},[s,l,u,p,f,d,_,m,h,v,c,y,b,w]}var fo=class extends N{constructor(t){super(),j(this,t,aC,nC,I,{app:0,settings:1,manager:10,selectedCalendarSet:2},rC)}},im=fo;function sC(e){let t,r;return t=new wd({props:{app:e[0],settings:e[2],manager:e[1]}}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},p(n,i){let o={};i&1&&(o.app=n[0]),i&4&&(o.settings=n[2]),i&2&&(o.manager=n[1]),t.$set(o)},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function lC(e){let t=e[3].path[1],r,n,i=om(e);return{c(){i.c(),r=Le()},m(o,a){i.m(o,a),T(o,r,a),n=!0},p(o,a){a&8&&I(t,t=o[3].path[1])?(re(),F(i,1,1,q),ne(),i=om(o),i.c(),A(i),i.m(r.parentNode,r)):i.p(o,a)},i(o){n||(A(i),n=!0)},o(o){F(i),n=!1},d(o){o&&O(r),i.d(o)}}}function om(e){let t,r;return t=new im({props:{app:e[0],settings:e[2],manager:e[1],selectedCalendarSet:e[3].path[1]}}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},p(n,i){let o={};i&1&&(o.app=n[0]),i&4&&(o.settings=n[2]),i&2&&(o.manager=n[1]),i&8&&(o.selectedCalendarSet=n[3].path[1]),t.$set(o)},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function cC(e){let t,r,n,i,o,a;t=new ff({});let s=[lC,sC],l=[];function c(u,p){return u[3].path.length>1?0:1}return n=c(e,-1),i=l[n]=s[n](e),{c(){z(t.$$.fragment),r=k(),i.c(),o=Le()},m(u,p){B(t,u,p),T(u,r,p),l[n].m(u,p),T(u,o,p),a=!0},p(u,[p]){let f=n;n=c(u,p),n===f?l[n].p(u,p):(re(),F(l[f],1,1,()=>{l[f]=null}),ne(),i=l[n],i?i.p(u,p):(i=l[n]=s[n](u),i.c()),A(i,1),i.m(o.parentNode,o))},i(u){a||(A(t.$$.fragment,u),A(i),a=!0)},o(u){F(t.$$.fragment,u),F(i),a=!1},d(u){V(t,u),u&&O(r),l[n].d(u),u&&O(o)}}}function uC(e,t,r){let n;Fe(e,ge,s=>r(3,n=s));let{app:i}=t,{manager:o}=t,{settings:a}=t;return Wn(()=>{ge.reset()}),e.$$set=s=>{"app"in s&&r(0,i=s.app),"manager"in s&&r(1,o=s.manager),"settings"in s&&r(2,a=s.settings)},[i,o,a,n]}var po=class extends N{constructor(t){super(),j(this,t,uC,cC,I,{app:0,manager:1,settings:2})}},am=po;var lm={installedVersion:"1.0.0-beta1",activeCalendarSet:Re,showGettingStartedBanner:!0,hasMigratedDailyNoteSettings:!1,hasMigratedWeeklyNoteSettings:!1,calendarSets:[],enableTimelineComplication:!0},Ze=Object.freeze({enabled:!1,openAtStartup:!1,format:"",templatePath:"",folder:""}),En=class extends sm.PluginSettingTab{constructor(r,n){super(r,n);this.app=r;this.plugin=n;this.plugin=n}display(){this.containerEl.empty(),this.view=new am({target:this.containerEl,props:{app:this.app,manager:this.plugin.calendarSetManager,settings:this.plugin.settings}})}hide(){super.hide(),this.view.$destroy()}};function Pn(e){return mt.Platform.isMacOS?e.metaKey:e.ctrlKey}function fC(){let{moment:e}=window,t=e.localeData()._week.dow,r=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];for(;t;){let n=r.shift();n&&r.push(n),t--}return r}function pC(e){return fC().indexOf(e.toLowerCase())}function mo(e,t,r,n,i){let o=i;return o=i.replace(/{{\s*date\s*}}/gi,e).replace(/{{\s*time\s*}}/gi,window.moment().format("HH:mm")).replace(/{{\s*title\s*}}/gi,e),t==="day"&&(o=o.replace(/{{\s*yesterday\s*}}/gi,r.clone().subtract(1,"day").format(n)).replace(/{{\s*tomorrow\s*}}/gi,r.clone().add(1,"d").format(n)).replace(/{{\s*(date|time)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(a,s,l,c,u,p)=>{let f=window.moment(),d=r.clone().set({hour:f.get("hour"),minute:f.get("minute"),second:f.get("second")});return l&&d.add(parseInt(c,10),u),p?d.format(p.substring(1).trim()):d.format(n)})),t==="week"&&(o=o.replace(/{{\s*(sunday|monday|tuesday|wednesday|thursday|friday|saturday)\s*:(.*?)}}/gi,(a,s,l)=>{let c=pC(s);return r.weekday(c).format(l.trim())})),t==="month"&&(o=o.replace(/{{\s*(month)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(a,s,l,c,u,p)=>{let f=window.moment(),d=r.clone().startOf("month").set({hour:f.get("hour"),minute:f.get("minute"),second:f.get("second")});return l&&d.add(parseInt(c,10),u),p?d.format(p.substring(1).trim()):d.format(n)})),t==="quarter"&&(o=o.replace(/{{\s*(quarter)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(a,s,l,c,u,p)=>{let f=window.moment(),d=r.clone().startOf("quarter").set({hour:f.get("hour"),minute:f.get("minute"),second:f.get("second")});return l&&d.add(parseInt(c,10),u),p?d.format(p.substring(1).trim()):d.format(n)})),t==="year"&&(o=o.replace(/{{\s*(year)\s*(([+-]\d+)([yqmwdhs]))?\s*(:.+?)?}}/gi,(a,s,l,c,u,p)=>{let f=window.moment(),d=r.clone().startOf("year").set({hour:f.get("hour"),minute:f.get("minute"),second:f.get("second")});return l&&d.add(parseInt(c,10),u),p?d.format(p.substring(1).trim()):d.format(n)})),o}function pr(e,t){var r;return((r=e[t])==null?void 0:r.format)||we[t]}function cm(e,t){var i;let r=(i=e[t])==null?void 0:i.format;if(!r)return[we[t]];let n=/[^/]*$/.exec(r);if(n){let o=n[0];return[r,o]}return[r]}function um(e,t){var r;return((r=e[t])==null?void 0:r.folder)||"/"}function af(e,t){var r;return(r=e[t])!=null?r:Ze}function fm(e,t,r,n){return te(this,null,function*(){var s;let i=pr(r,n.granularity),o=yield go(e,(s=r[n.granularity])==null?void 0:s.templatePath),a=mo(t.basename,n.granularity,n.date,i,o);return e.vault.modify(t,a)})}function go(e,t){return te(this,null,function*(){let{metadataCache:r,vault:n}=e,i=(0,mt.normalizePath)(t!=null?t:"");if(t==="/")return Promise.resolve("");try{let o=r.getFirstLinkpathDest(i,"");return o?n.cachedRead(o):""}catch(o){return console.error(`Failed to read the daily note template '${i}'`,o),new mt.Notice("Failed to read the daily note template"),""}})}function pm(e,t,r){return te(this,null,function*(){var a;let n=(a=r.folder)!=null?a:"",i=t.endsWith(".md")?t:`${t}.md`,o=(0,mt.normalizePath)(On(n,i));return yield dC(e,o),o})}function On(...e){let t=[];for(let n=0,i=e.length;n<i;n++)t=t.concat(e[n].split("/"));let r=[];for(let n=0,i=t.length;n<i;n++){let o=t[n];!o||o==="."||r.push(o)}return t[0]===""&&r.unshift(""),r.join("/")}function dC(e,t){return te(this,null,function*(){let r=t.replace(/\\/g,"/").split("/");if(r.pop(),r.length){let n=On(...r);e.vault.getAbstractFileByPath(n)||(yield e.vault.createFolder(n))}})}function Nt(e,t){if(e=="week"){let r=window.moment().startOf(e),n=window.moment(t).diff(r,"week");return n===0?"This week":n===-1?"Last week":n===1?"Next week":window.moment.duration(n,e).humanize(!0)}else if(e==="day"){let r=window.moment().startOf("day"),n=window.moment(t).from(r);return window.moment(t).calendar(null,{lastWeek:"[Last] dddd",lastDay:"[Yesterday]",sameDay:"[Today]",nextDay:"[Tomorrow]",nextWeek:"dddd",sameElse:function(){return"["+n+"]"}})}else return t.format(Qu[e])}function dm(e){let t=en(e);return/w{1,2}/.test(t)}function mC(e,t){let r=ie.indexOf(e),n=ie.indexOf(t);return r===n?0:r<n?-1:1}function ho(e,t){return t.toISOString()}var Tn=class extends Ne.Component{constructor(r,n){super();this.app=r;this.plugin=n;this.cachedFiles=new Map,this.app.workspace.onLayoutReady(()=>{console.info("[Periodic Notes] initializing cache"),this.initialize(),this.registerEvent(this.app.vault.on("create",this.resolve,this)),this.registerEvent(this.app.vault.on("rename",this.resolveRename,this)),this.registerEvent(this.app.metadataCache.on("changed",this.resolveChangedMetadata,this)),this.registerEvent(this.app.workspace.on("periodic-notes:settings-updated",this.reset,this))})}reset(){console.info("[Periodic Notes] reseting cache"),this.cachedFiles.clear(),this.initialize()}initialize(){let r=(0,mm.default)((n,i)=>{if(!!n)for(let o of n.children)o instanceof Ne.TFile?i(o):o instanceof Ne.TFolder&&r(o,i)});for(let n of this.plugin.calendarSetManager.getCalendarSets()){let i=ie.filter(o=>{var a;return(a=n[o])==null?void 0:a.enabled});for(let o of i){let a=n[o],s=this.app.vault.getAbstractFileByPath(a.folder||"/");r(s,l=>{if(l instanceof Ne.TFile){this.resolve(l,"initialize");let c=app.metadataCache.getFileCache(l);c&&this.resolveChangedMetadata(l,"",c)}})}}}resolveChangedMetadata(r,n,i){var a;let o=this.plugin.calendarSetManager;e:for(let s of o.getCalendarSets()){let l=ie.filter(c=>{var u;return(u=s[c])==null?void 0:u.enabled});if(l.length===0)continue e;t:for(let c of l){let u=((a=s[c])==null?void 0:a.folder)||"";if(!r.path.startsWith(u))continue t;let p=(0,Ne.parseFrontMatterEntry)(i.frontmatter,c);if(!p)continue t;let f=we[c],d;if(typeof p=="string"){d=window.moment(p,f,!0),d.isValid()&&this.set(s.id,r.path,{calendarSet:s.id,filePath:r.path,date:d,granularity:c,canonicalDateStr:ho(c,d),matchData:{exact:!0,matchType:"frontmatter"}});continue e}}}}resolveRename(r,n){for(let[,i]of this.cachedFiles)r instanceof Ne.TFile&&(i.delete(n),this.resolve(r,"rename"))}resolve(r,n="create"){var o,a;let i=this.plugin.calendarSetManager;e:for(let s of i.getCalendarSets()){let l=ie.filter(p=>{var f;return(f=s[p])==null?void 0:f.enabled});if(l.length===0)continue e;let c=(o=this.cachedFiles.get(s.id))==null?void 0:o.get(r.path);if(c&&c.matchData.matchType==="frontmatter")continue e;t:for(let p of l){let f=((a=s[p])==null?void 0:a.folder)||"";if(!r.path.startsWith(f))continue t;let d=cm(s,p),_=tf(r,d[0],p),m=window.moment(_,d,!0);if(m.isValid()){let h={calendarSet:s.id,filePath:r.path,date:m,granularity:p,canonicalDateStr:ho(p,m),matchData:{exact:!0,matchType:"filename"}};this.set(s.id,r.path,h),n==="create"&&r.stat.size===0&&fm(app,r,s,h),this.app.workspace.trigger("periodic-notes:resolve",p,r);continue e}}let u=Ju(r.basename);if(u){this.set(s.id,r.path,{calendarSet:s.id,filePath:r.path,date:u.date,granularity:u.granularity,canonicalDateStr:ho(u.granularity,u.date),matchData:{exact:!1,matchType:"filename"}}),this.app.workspace.trigger("periodic-notes:resolve",u.granularity,r);continue}}}getPeriodicNote(r,n,i){let o=this.cachedFiles.get(r);if(o){for(let[a,s]of o)if(s.granularity===n&&s.matchData.exact===!0&&s.date.isSame(i,n))return this.app.vault.getAbstractFileByPath(a)}return null}getPeriodicNotes(r,n,i,o=!1){let a=[],s=this.cachedFiles.get(r);if(s)for(let[,l]of s)(n===l.granularity||o&&mC(l.granularity,n)<=0)&&l.date.isSame(i,n)&&a.push(l);return a}set(r,n,i){let o=this.cachedFiles.get(r);o||(o=new Map,this.cachedFiles.set(r,o)),o.set(n,i)}isPeriodic(r,n){for(let[,i]of this.cachedFiles){let o=i.get(r);if(!!o&&(!n||n&&n===o.granularity))return!0}return!1}find(r,n){var a;if(!r)return null;if(n){let s=this.cachedFiles.get(n);return(a=s==null?void 0:s.get(r))!=null?a:null}let i=this.cachedFiles.get(this.plugin.calendarSetManager.getActiveId()),o=i==null?void 0:i.get(r);if(o)return o;for(let[,s]of this.cachedFiles){let l=s.get(r);if(l)return l}return null}findAdjacent(r,n,i){var p,f;let o=this.find(n,r);if(!o)return null;let a=o.granularity,s=(f=(p=this.cachedFiles.get(r))==null?void 0:p.values())!=null?f:[],l=(0,gm.default)(Array.from(s).filter(d=>d.granularity===a),["canonicalDateStr"]),c=l.findIndex(d=>d.filePath===n);return l[c+(i==="forwards"?1:-1)]}};var hm=`
<g>
<path d="M24.78 3C22.646 3 20.9 4.746 20.9 6.88V10.76H9.26C7.223 10.76 5.38 12.312 5.38 14.543V92.628C5.38 93.695 6.059 94.859 6.835 95.344C7.611 95.926 8.387 96.12 9.26 96.12H90.74C91.613 96.12 92.389 95.926 93.165 95.344C93.941 94.762 94.62 93.695 94.62 92.628V14.543C94.62 12.506 92.971 10.76 90.934 10.76H79.1V6.88C79.1 4.746 77.354 3 75.22 3H71.34C69.206 3 67.46 4.746 67.46 6.88V10.76H32.54V6.88C32.54 4.746 30.794 3 28.66 3H24.78ZM24.78 6.88H28.66V18.52H24.78V6.88ZM71.34 6.88H75.22V18.52H71.34V6.88ZM9.26 14.64H20.9V18.52C20.9 20.654 22.646 22.4 24.78 22.4H28.66C30.794 22.4 32.54 20.654 32.54 18.52V14.64H67.46V18.52C67.46 20.654 69.206 22.4 71.34 22.4H75.22C77.354 22.4 79.1 20.654 79.1 18.52V14.64H90.74V28.22H9.26V14.64ZM9.26 32.1H90.74V92.24H9.26V32.1Z" fill="currentColor" stroke-width="1" stroke="currentColor"/>
<path d="M55.2539 79.0024H49.3613V55.3319C49.3613 52.5068 49.4282 50.2668 49.5619 48.6119C49.1775 49.0131 48.701 49.4561 48.1327 49.9408C47.581 50.4256 45.7088 51.9635 42.516 54.5546L39.5571 50.8185L50.3393 42.3432H55.2539V79.0024Z" fill="currentColor"/>
</g>
`,vm=`
<g>
<path d="M24.78 3C22.646 3 20.9 4.746 20.9 6.88V10.76H9.26C7.223 10.76 5.38 12.312 5.38 14.543V92.628C5.38 93.695 6.059 94.859 6.835 95.344C7.611 95.926 8.387 96.12 9.26 96.12H90.74C91.613 96.12 92.389 95.926 93.165 95.344C93.941 94.762 94.62 93.695 94.62 92.628V14.543C94.62 12.506 92.971 10.76 90.934 10.76H79.1V6.88C79.1 4.746 77.354 3 75.22 3H71.34C69.206 3 67.46 4.746 67.46 6.88V10.76H32.54V6.88C32.54 4.746 30.794 3 28.66 3H24.78ZM24.78 6.88H28.66V18.52H24.78V6.88ZM71.34 6.88H75.22V18.52H71.34V6.88ZM9.26 14.64H20.9V18.52C20.9 20.654 22.646 22.4 24.78 22.4H28.66C30.794 22.4 32.54 20.654 32.54 18.52V14.64H67.46V18.52C67.46 20.654 69.206 22.4 71.34 22.4H75.22C77.354 22.4 79.1 20.654 79.1 18.52V14.64H90.74V28.22H9.26V14.64ZM9.26 32.1H90.74V92.24H9.26V32.1Z" fill="currentColor" stroke-width="1" stroke="currentColor"/>
<path d="M42.8799 78.3604L56.5679 48.6873H38.5698V43.7852H62.512V47.669L48.895 78.3604H42.8799Z" fill="currentColor"/>
</g>
`,ym=`
<g>
<path d="M24.78 3C22.646 3 20.9 4.746 20.9 6.88V10.76H9.26C7.223 10.76 5.38 12.312 5.38 14.543V92.628C5.38 93.695 6.059 94.859 6.835 95.344C7.611 95.926 8.387 96.12 9.26 96.12H90.74C91.613 96.12 92.389 95.926 93.165 95.344C93.941 94.762 94.62 93.695 94.62 92.628V14.543C94.62 12.506 92.971 10.76 90.934 10.76H79.1V6.88C79.1 4.746 77.354 3 75.22 3H71.34C69.206 3 67.46 4.746 67.46 6.88V10.76H32.54V6.88C32.54 4.746 30.794 3 28.66 3H24.78ZM24.78 6.88H28.66V18.52H24.78V6.88ZM71.34 6.88H75.22V18.52H71.34V6.88ZM9.26 14.64H20.9V18.52C20.9 20.654 22.646 22.4 24.78 22.4H28.66C30.794 22.4 32.54 20.654 32.54 18.52V14.64H67.46V18.52C67.46 20.654 69.206 22.4 71.34 22.4H75.22C77.354 22.4 79.1 20.654 79.1 18.52V14.64H90.74V28.22H9.26V14.64ZM9.26 32.1H90.74V92.24H9.26V32.1Z" fill="currentColor" stroke-width="1" stroke="currentColor"/>
<path d="M51.3075 52.8546C51.3075 54.9201 50.7057 56.6437 49.5022 58.0256C48.2986 59.3926 46.6046 60.3139 44.4204 60.7894V60.9677C47.0356 61.2946 48.9969 62.1118 50.3045 63.4194C51.6121 64.7122 52.2659 66.4358 52.2659 68.5904C52.2659 71.7257 51.1589 74.1477 48.9449 75.8565C46.7309 77.5504 43.5808 78.3974 39.4946 78.3974C35.8838 78.3974 32.8377 77.8105 30.3562 76.6366V71.9783C31.7381 72.6618 33.2018 73.1893 34.7471 73.5608C36.2924 73.9322 37.7784 74.118 39.2048 74.118C41.7309 74.118 43.618 73.6499 44.8661 72.7138C46.1143 71.7777 46.7384 70.3289 46.7384 68.3675C46.7384 66.629 46.0474 65.3511 44.6655 64.5339C43.2836 63.7166 41.1142 63.308 38.1573 63.308H35.3266V59.0509H38.2018C43.4025 59.0509 46.0028 57.2529 46.0028 53.657C46.0028 52.2603 45.5496 51.183 44.6432 50.4252C43.7368 49.6674 42.3995 49.2885 40.6313 49.2885C39.398 49.2885 38.2093 49.4668 37.0651 49.8234C35.921 50.1652 34.5688 50.8412 33.0086 51.8517L30.4454 48.1963C33.4321 45.9972 36.9017 44.8976 40.8542 44.8976C44.138 44.8976 46.7012 45.6034 48.5437 47.015C50.3863 48.4266 51.3075 50.3732 51.3075 52.8546Z" fill="currentColor"/>
<path d="M69.6199 77.9516H64.382V56.9112C64.382 54.4 64.4415 52.4089 64.5603 50.9378C64.2186 51.2944 63.7951 51.6882 63.2899 52.1191C62.7995 52.55 61.1353 53.9171 58.2972 56.2202L55.6672 52.8992L65.2513 45.3657H69.6199V77.9516Z" fill="currentColor"/>
</g>
`,_m=`
<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M24.768 3C22.634 3 20.888 4.746 20.888 6.88V10.76H9.24804C7.21104 10.76 5.36804 12.312 5.36804 14.543V92.628C5.36804 93.695 6.04704 94.859 6.82304 95.344C7.59904 95.926 8.37504 96.12 9.24804 96.12H90.728C91.601 96.12 92.377 95.926 93.153 95.344C93.929 94.762 94.608 93.695 94.608 92.628V14.543C94.608 12.506 92.959 10.76 90.922 10.76H79.088V6.88C79.088 4.746 77.342 3 75.208 3H71.328C69.194 3 67.448 4.746 67.448 6.88V10.76H32.528V6.88C32.528 4.746 30.782 3 28.648 3H24.768ZM24.768 6.88H28.648V18.52H24.768V6.88ZM71.328 6.88H75.208V18.52H71.328V6.88ZM9.24804 14.64H20.888V18.52C20.888 20.654 22.634 22.4 24.768 22.4H28.648C30.782 22.4 32.528 20.654 32.528 18.52V14.64H67.448V18.52C67.448 20.654 69.194 22.4 71.328 22.4H75.208C77.342 22.4 79.088 20.654 79.088 18.52V14.64H90.728V28.22H9.24804V14.64ZM9.24804 32.1H90.728V92.24H9.24804V32.1Z" fill="currentColor" stroke="currentColor" stroke-width="0.17"/>
<path d="M63.2498 61.614C63.2498 65.5665 62.492 68.8949 60.9764 71.5993C59.4756 74.3036 57.2839 76.2056 54.4012 77.3052L62.2022 85.708H55.0253L48.8737 78.3973H48.0044C43.086 78.3973 39.3044 76.9411 36.6595 74.0287C34.0294 71.1015 32.7144 66.9484 32.7144 61.5694C32.7144 56.1904 34.0369 52.0596 36.6818 49.1769C39.3416 46.2943 43.1306 44.853 48.049 44.853C52.893 44.853 56.6375 46.3166 59.2824 49.2438C61.9273 52.171 63.2498 56.2944 63.2498 61.614ZM38.3757 61.614C38.3757 65.6259 39.1855 68.672 40.8052 70.7523C42.4248 72.8177 44.8246 73.8504 48.0044 73.8504C51.1694 73.8504 53.5543 72.8251 55.159 70.7746C56.7787 68.724 57.5885 65.6705 57.5885 61.614C57.5885 57.6169 56.7861 54.5856 55.1813 52.5202C53.5914 50.4548 51.214 49.4221 48.049 49.4221C44.8543 49.4221 42.4397 50.4548 40.8052 52.5202C39.1855 54.5856 38.3757 57.6169 38.3757 61.614Z" fill="currentColor"/>
</svg>
`,bm=`
<svg width="100" height="100" viewBox="0 0 100 100" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M24.768 3C22.634 3 20.888 4.746 20.888 6.88V10.76H9.24804C7.21104 10.76 5.36804 12.312 5.36804 14.543V92.628C5.36804 93.695 6.04704 94.859 6.82304 95.344C7.59904 95.926 8.37504 96.12 9.24804 96.12H90.728C91.601 96.12 92.377 95.926 93.153 95.344C93.929 94.762 94.608 93.695 94.608 92.628V14.543C94.608 12.506 92.959 10.76 90.922 10.76H79.088V6.88C79.088 4.746 77.342 3 75.208 3H71.328C69.194 3 67.448 4.746 67.448 6.88V10.76H32.528V6.88C32.528 4.746 30.782 3 28.648 3H24.768ZM24.768 6.88H28.648V18.52H24.768V6.88ZM71.328 6.88H75.208V18.52H71.328V6.88ZM9.24804 14.64H20.888V18.52C20.888 20.654 22.634 22.4 24.768 22.4H28.648C30.782 22.4 32.528 20.654 32.528 18.52V14.64H67.448V18.52C67.448 20.654 69.194 22.4 71.328 22.4H75.208C77.342 22.4 79.088 20.654 79.088 18.52V14.64H90.728V28.22H9.24804V14.64ZM9.24804 32.1H90.728V92.24H9.24804V32.1Z" fill="currentColor" stroke="currentColor" stroke-width="0.17"/>
<path d="M49.2303 60.2321L56.9421 45.3656H62.7371L51.8826 65.3139V77.9515H46.5333V65.4922L35.7234 45.3656H41.5184L49.2303 60.2321Z" fill="currentColor"/>
</svg>
`;var vo=require("obsidian");function wm(e,t,r){let n=new vo.Menu(e);t.calendarSetManager.getActiveGranularities().forEach(i=>{let o=K[i];n.addItem(a=>a.setTitle(o.labelOpenPresent).setIcon(`calendar-${i}`).onClick(()=>{t.openPeriodicNote(i,window.moment())}))}),n.showAtPosition(r)}var xm=require("obsidian");var An=class extends xm.FuzzySuggestModal{constructor(r,n){super(r);this.plugin=n}getItemText(r){return r.toString()}getItems(){return this.plugin.calendarSetManager.getCalendarSets()}renderSuggestion(r,n){n.createDiv({text:r.item.id})}onChooseItem(r,n){return te(this,null,function*(){this.plugin.settings.update(Ke(r.id))})}};var xr=require("obsidian");var Lt=require("obsidian");var gC=[{command:"*",purpose:"show all notes within this period"},{command:"\u21B5",purpose:"to open"},{command:"ctrl \u21B5",purpose:"to open in a new pane"},{command:"esc",purpose:"to dismiss"}],Mn=class extends Lt.SuggestModal{constructor(r,n,i,o){var a;super(r);this.app=r;this.plugin=n;this.selectedItem=i;this.oldQuery=o;this.includeFinerGranularities=!1,this.setInstructions(gC),this.setPlaceholder(`Search notes related to ${i.label}...`),(a=this.inputEl.parentElement)==null||a.prepend(createDiv("periodic-notes-switcher-input-container",s=>{s.appendChild(this.inputEl),this.inputLabel=s.createDiv({cls:"related-notes-mode-indicator",text:"Expanded"}),this.inputLabel.toggleVisibility(!1)})),this.scope.register([],"Tab",s=>{s.preventDefault(),this.close();let l=new jt(this.app,this.plugin);l.open(),l.inputEl.value=o,l.inputEl.dispatchEvent(new Event("input"))}),this.scope.register(["Shift"],"8",s=>{s.preventDefault(),this.includeFinerGranularities=!this.includeFinerGranularities,this.inputLabel.style.visibility=this.includeFinerGranularities?"visible":"hidden",this.inputEl.dispatchEvent(new Event("input"))})}getDatePrefixedNotes(r,n){return this.plugin.getPeriodicNotes(r.granularity,r.date,this.includeFinerGranularities).filter(i=>i.matchData.exact===!1).filter(i=>i.filePath.toLocaleLowerCase().includes(n.toLocaleLowerCase())).map(i=>({label:i.filePath,date:i.date,granularity:i.granularity,matchData:i.matchData}))}getSuggestions(r){return this.getDatePrefixedNotes(this.selectedItem,r)}renderSuggestion(r,n){n.setText(r.label),n.createEl("div",{cls:"suggestion-note",text:r.date.format(we[r.granularity])}),n.createEl("span",{cls:"suggestion-flair",prepend:!0},i=>{(0,Lt.setIcon)(i,`calendar-${r.granularity}`,16)})}onChooseSuggestion(r,n){return te(this,null,function*(){let i=this.app.vault.getAbstractFileByPath(r.label);i&&i instanceof Lt.TFile&&(yield(n.shiftKey?this.app.workspace.splitActiveLeaf():this.app.workspace.getUnpinnedLeaf()).openFile(i,{active:!0}))})}};var hC=[{command:"\u21E5",purpose:"show related files"},{command:"\u21B5",purpose:"to open"},{command:"ctrl \u21B5",purpose:"to open in a new pane"},{command:"esc",purpose:"to dismiss"}],jt=class extends xr.SuggestModal{constructor(r,n){super(r);this.app=r;this.plugin=n;this.setInstructions(hC),this.setPlaceholder("Type date to find related notes"),this.nlDatesPlugin=r.plugins.getPlugin("nldates-obsidian"),this.scope.register(["Meta"],"Enter",i=>{this.chooser.useSelectedItem(i)}),this.scope.register([],"Tab",i=>{i.preventDefault(),this.close(),new Mn(this.app,this.plugin,this.getSelectedItem(),this.inputEl.value).open()})}getSelectedItem(){return this.chooser.values[this.chooser.selectedItem]}getPeriodicNotesFromQuery(r,n){let i="day",o=/\b(week|month|quarter|year)s?\b/.exec(r);o&&(i=o[1]);let a="";if(i==="week"){let l=this.plugin.calendarSetManager.getFormat("week"),c=dm(l)?"WW":"ww";a=n.format(`GGGG [Week] ${c}`)}else i==="day"?a=`${Nt(i,n)}, ${n.format("MMMM DD")}`:a=r;let s=[{label:a,date:n,granularity:i}];return i!=="day"&&s.push({label:`${Nt(i,n)}, ${n.format("MMMM DD")}`,date:n,granularity:"day"}),s}getSuggestions(r){let n=this.nlDatesPlugin.parseDate(r),i=this.getDateSuggestions(r);return i.length?i:n.moment.isValid()?this.getPeriodicNotesFromQuery(r,n.moment):[]}getDateSuggestions(r){let n=this.plugin.calendarSetManager.getActiveGranularities(),i=(s,l)=>{let c=this.nlDatesPlugin.parseDate(s);return{granularity:l,date:c.moment,label:s}},o=r.match(/(next|last|this)/i);if(o){let s=o[1];return[i(`${s} Sunday`,"day"),i(`${s} Monday`,"day"),i(`${s} Tuesday`,"day"),i(`${s} Wednesday`,"day"),i(`${s} Thursday`,"day"),i(`${s} Friday`,"day"),i(`${s} Saturday`,"day"),i(`${s} week`,"week"),i(`${s} month`,"month"),i(`${s} year`,"year")].filter(l=>n.includes(l.granularity)).filter(l=>l.label.toLowerCase().startsWith(r))}let a=r.match(/^in ([+-]?\d+)/i)||r.match(/^([+-]?\d+)/i);if(a){let s=a[1];return[i(`in ${s} days`,"day"),i(`in ${s} weeks`,"day"),i(`in ${s} weeks`,"week"),i(`in ${s} months`,"month"),i(`in ${s} years`,"day"),i(`in ${s} years`,"year"),i(`${s} days ago`,"day"),i(`${s} weeks ago`,"day"),i(`${s} weeks ago`,"week"),i(`${s} months ago`,"month"),i(`${s} years ago`,"day"),i(`${s} years ago`,"year")].filter(l=>n.includes(l.granularity)).filter(l=>l.label.toLowerCase().startsWith(r))}return[i("today","day"),i("yesterday","day"),i("tomorrow","day"),i("this week","week"),i("last week","week"),i("next week","week"),i("this month","month"),i("last month","month"),i("next month","month"),i("this year","year"),i("last year","year"),i("next year","year")].filter(s=>n.includes(s.granularity)).filter(s=>s.label.toLowerCase().startsWith(r))}renderSuggestion(r,n){var l,c;let i=this.plugin.getPeriodicNotes(r.granularity,r.date).filter(u=>u.matchData.exact===!1).length,o=this.plugin.getPeriodicNote(r.granularity,r.date);if(!o){let u=this.plugin.calendarSetManager.getActiveSet(),p=pr(u,r.granularity),f=um(u,r.granularity);n.setText(r.label),n.createEl("span",{cls:"suggestion-flair",prepend:!0},d=>{(0,xr.setIcon)(d,"add-note-glyph",16)}),i>0&&n.createEl("span",{cls:"suggestion-badge",text:`+${i}`}),n.createEl("div",{cls:"suggestion-note",text:On(f,r.date.format(p))});return}let a=(c=(l=this.app.workspace.getActiveFile())==null?void 0:l.path)!=null?c:"",s=this.app.metadataCache.fileToLinktext(o,a,!0);n.setText(r.label),n.createEl("div",{cls:"suggestion-note",text:s}),n.createEl("span",{cls:"suggestion-flair",prepend:!0},u=>{(0,xr.setIcon)(u,`calendar-${r.granularity}`,16)}),i>0&&n.createEl("span",{cls:"suggestion-badge",text:`+${i}`})}onChooseSuggestion(r,n){return te(this,null,function*(){this.plugin.openPeriodicNote(r.granularity,r.date,{inNewSplit:Pn(n)})})}};var tg=require("obsidian");var zm=nt(Gm(),1),{__extends:UA,__assign:WA,__rest:$A,__decorate:YA,__param:KA,__metadata:ZA,__awaiter:Um,__generator:XA,__exportStar:QA,__createBinding:JA,__values:eM,__read:tM,__spread:rM,__spreadArrays:nM,__spreadArray:iM,__await:oM,__asyncGenerator:aM,__asyncDelegator:sM,__asyncValues:lM,__makeTemplateObject:cM,__importStar:uM,__importDefault:fM,__classPrivateFieldGet:pM,__classPrivateFieldSet:dM}=zm.default;var SM=require("obsidian");var Wm=require("obsidian");function vC(e){let t;return{c(){t=C("span")},m(r,n){T(r,t,n),e[1](t)},p:q,i:q,o:q,d(r){r&&O(t),e[1](null)}}}function yC(e,t,r){let n;le(()=>{(0,Wm.setIcon)(n,"forward-arrow",12)});function i(o){se[o?"unshift":"push"](()=>{n=o,r(0,n)})}return[n,i]}var _o=class extends N{constructor(t){super(),j(this,t,yC,vC,I,{})}},$m=_o;function _C(e){U(e,"svelte-ilz3jn",".timeline-container.svelte-ilz3jn.svelte-ilz3jn{align-items:flex-end;flex-direction:column;display:flex;gap:12px;height:56px;position:absolute;right:26px;top:56px;z-index:1}.native-scrollbars .timeline-container.svelte-ilz3jn.svelte-ilz3jn{right:16px}.leaf-periodic-button.svelte-ilz3jn.svelte-ilz3jn{background:var(--background-secondary);border-radius:6px;border:1px solid transparent;box-shadow:0 0 1px var(--background-modifier-box-shadow);color:var(--text-accent);cursor:pointer;font-size:0.7em;font-weight:600;letter-spacing:0.4px;padding:0.3em 0.9em;text-transform:uppercase;transition:0.2s border-color ease-in}.leaf-periodic-button.svelte-ilz3jn.svelte-ilz3jn:hover{border-color:var(--background-modifier-border)}.timeline-view.svelte-ilz3jn.svelte-ilz3jn{display:flex;background-color:var(--background-primary);gap:6px}.timeline-weekday.svelte-ilz3jn.svelte-ilz3jn{display:flex;font-size:0.7em;flex-direction:column;text-align:center}.timeline-day.svelte-ilz3jn.svelte-ilz3jn{border:1px solid transparent;border-radius:50%;height:28px;line-height:26px;width:28px}.timeline-day.svelte-ilz3jn.svelte-ilz3jn:hover{border-color:var(--background-modifier-border)}.is-selected.svelte-ilz3jn .timeline-day.svelte-ilz3jn{background-color:var(--background-secondary)}.is-today.svelte-ilz3jn .timeline-day.svelte-ilz3jn{color:var(--text-accent);font-weight:600}.timeline-day-of-week.svelte-ilz3jn.svelte-ilz3jn{color:var(--text-muted);font-size:0.9em;font-weight:600;letter-spacing:0.2px}.is-selected.svelte-ilz3jn .timeline-day-of-week.svelte-ilz3jn{color:var(--text-normal)}")}function Ym(e,t,r){let n=e.slice();return n[17]=t[r],n}function Km(e){let t,r,n,i,o,a,s,l,c=e[0].matchData.exact===!1&&Zm(e),u=e[1]&&Xm(e);return{c(){t=C("div"),r=C("div"),c&&c.c(),n=k(),i=D(e[3]),o=k(),u&&u.c(),S(r,"class","leaf-periodic-button svelte-ilz3jn"),S(t,"class","timeline-container svelte-ilz3jn")},m(p,f){T(p,t,f),x(t,r),c&&c.m(r,null),x(r,n),x(r,i),x(t,o),u&&u.m(t,null),a=!0,s||(l=L(r,"click",e[8]),s=!0)},p(p,f){p[0].matchData.exact===!1?c?f&1&&A(c,1):(c=Zm(p),c.c(),A(c,1),c.m(r,n)):c&&(re(),F(c,1,1,()=>{c=null}),ne()),(!a||f&8)&&G(i,p[3]),p[1]?u?(u.p(p,f),f&2&&A(u,1)):(u=Xm(p),u.c(),A(u,1),u.m(t,null)):u&&(re(),F(u,1,1,()=>{u=null}),ne())},i(p){a||(A(c),A(u),a=!0)},o(p){F(c),F(u),a=!1},d(p){p&&O(t),c&&c.d(),u&&u.d(),s=!1,l()}}}function Zm(e){let t,r;return t=new $m({}),{c(){z(t.$$.fragment)},m(n,i){B(t,n,i),r=!0},i(n){r||(A(t.$$.fragment,n),r=!0)},o(n){F(t.$$.fragment,n),r=!1},d(n){V(t,n)}}}function Xm(e){let t,r,n,i,o=e[2],a=[];for(let s=0;s<o.length;s+=1)a[s]=Qm(Ym(e,o,s));return{c(){t=C("div");for(let s=0;s<a.length;s+=1)a[s].c();S(t,"class","timeline-view svelte-ilz3jn")},m(s,l){T(s,t,l);for(let c=0;c<a.length;c+=1)a[c].m(t,null);i=!0},p(s,l){if(l&165){o=s[2];let c;for(c=0;c<o.length;c+=1){let u=Ym(s,o,c);a[c]?a[c].p(u,l):(a[c]=Qm(u),a[c].c(),a[c].m(t,null))}for(;c<a.length;c+=1)a[c].d(1);a.length=o.length}},i(s){i||(be(()=>{n&&n.end(1),r=yt(t,Mt,{x:8}),r.start()}),i=!0)},o(s){r&&r.invalidate(),n=Ue(t,Mt,{x:8}),i=!1},d(s){s&&O(t),ke(a,s),s&&n&&n.end()}}}function Qm(e){let t,r,n=e[17].format("ddd")+"",i,o,a,s=e[17].format("DD")+"",l,c,u,p;function f(){return e[13](e[17])}return{c(){t=C("div"),r=C("div"),i=D(n),o=k(),a=C("div"),l=D(s),c=k(),S(r,"class","timeline-day-of-week svelte-ilz3jn"),S(a,"class","timeline-day svelte-ilz3jn"),S(t,"class","timeline-weekday svelte-ilz3jn"),H(t,"is-selected",e[17].isSame(e[0].date,"day")),H(t,"is-today",e[17].isSame(e[5],"day"))},m(d,_){T(d,t,_),x(t,r),x(r,i),x(t,o),x(t,a),x(a,l),x(t,c),u||(p=L(a,"click",f),u=!0)},p(d,_){e=d,_&4&&n!==(n=e[17].format("ddd")+"")&&G(i,n),_&4&&s!==(s=e[17].format("DD")+"")&&G(l,s),_&5&&H(t,"is-selected",e[17].isSame(e[0].date,"day")),_&36&&H(t,"is-today",e[17].isSame(e[5],"day"))},d(d){d&&O(t),u=!1,p()}}}function bC(e){let t,r,n=e[4]&&e[0]&&Km(e);return{c(){n&&n.c(),t=Le()},m(i,o){n&&n.m(i,o),T(i,t,o),r=!0},p(i,[o]){i[4]&&i[0]?n?(n.p(i,o),o&17&&A(n,1)):(n=Km(i),n.c(),A(n,1),n.m(t.parentNode,t)):n&&(re(),F(n,1,1,()=>{n=null}),ne())},i(i){r||(A(n),r=!0)},o(i){F(n),r=!1},d(i){n&&n.d(i),i&&O(t)}}}function Jm(e,t){let r=[],i=t.clone().startOf("week").clone();for(let o=0;o<7;o++)r.push(i.clone()),i=i.add(1,"day");return r}function wC(e,t,r){let n;var i;let{plugin:o}=t,{cache:a}=t,{view:s}=t,l,c,u=window.moment(),p,f,d=o.settings;Fe(e,d,w=>r(14,n=w));let _=n.enableTimelineComplication;function m(w,E){return Um(this,void 0,void 0,function*(){let P=a.getPeriodicNote(o.calendarSetManager.getActiveId(),w,E);P||(P=yield o.createPeriodicNote(w,E)),yield s.leaf.openFile(P,{active:!0})})}function h(){r(4,_=n.enableTimelineComplication)}function v(){r(1,l=!l)}function y(){var w;r(0,p=a.find((w=s.file)===null||w===void 0?void 0:w.path)),p&&(r(2,c=Jm(u,p.date)),r(3,f=Nt(p.granularity,p.date)))}le(()=>{o.registerEvent(o.app.workspace.on("file-open",y)),o.registerEvent(o.app.workspace.on("periodic-notes:resolve",y)),o.registerEvent(o.app.workspace.on("periodic-notes:settings-updated",h))});let b=w=>m("day",w);return e.$$set=w=>{"plugin"in w&&r(9,o=w.plugin),"cache"in w&&r(10,a=w.cache),"view"in w&&r(11,s=w.view)},e.$$.update=()=>{if(e.$$.dirty&7169){e:r(0,p=a.find(r(12,i=s.file)===null||i===void 0?void 0:i.path)),p&&(r(2,c=Jm(u,p.date)),r(3,f=Nt(p.granularity,p.date)))}},[p,l,c,f,_,u,d,m,v,o,a,s,i,b]}var bo=class extends N{constructor(t){super(),j(this,t,wC,bC,I,{plugin:9,cache:10,view:11},_C)}},eg=bo;var Sr=class{constructor(t,r){this.plugin=t;this.cache=r;this.btnComponents=[],this.plugin.app.workspace.onLayoutReady(()=>{t.registerEvent(t.app.workspace.on("layout-change",this.onLayoutChange,this)),this.onLayoutChange()})}cleanup(){for(let t of this.btnComponents)t.$destroy()}onLayoutChange(){let t=[];this.plugin.app.workspace.iterateAllLeaves(r=>{r.view instanceof tg.MarkdownView&&t.push(r.view)});for(let r of this.btnComponents)t.map(n=>n.containerEl).includes(r.$$.root)||r.$destroy();for(let r of t)this.btnComponents.find(i=>i.$$.root===r.containerEl)||this.btnComponents.push(new eg({target:r.containerEl,props:{plugin:this.plugin,cache:this.cache,view:r}}))}};var Dn=class extends Je.Plugin{unload(){var r;super.unload(),(r=this.timelineManager)==null||r.cleanup()}onload(){return te(this,null,function*(){this.settings=Zt(),yield this.loadSettings(),this.settings.subscribe(this.onUpdateSettings.bind(this)),this.ribbonEl=null,this.calendarSetManager=new fr(this),this.cache=new Tn(this.app,this),this.timelineManager=new Sr(this,this.cache),this.openPeriodicNote=this.openPeriodicNote.bind(this),this.addSettingTab(new En(this.app,this)),(0,Je.addIcon)("calendar-day",hm),(0,Je.addIcon)("calendar-week",vm),(0,Je.addIcon)("calendar-month",ym),(0,Je.addIcon)("calendar-quarter",_m),(0,Je.addIcon)("calendar-year",bm),this.addCommand({id:"show-date-switcher",name:"Show date switcher...",checkCallback:r=>{if(!this.app.plugins.getPlugin("nldates-obsidian"))return!1;if(r)return!!this.app.workspace.activeLeaf;new jt(this.app,this).open()},hotkeys:[]}),this.addCommand({id:"switch-calendarset",name:"Switch active calendar set...",callback:()=>{new An(this.app,this).open()},hotkeys:[]}),this.app.workspace.onLayoutReady(()=>{this.configureRibbonIcons(),this.configureCommands();let r=kp(this.settings);r&&this.openPeriodicNote(r.granularity,window.moment(),{calendarSet:r.calendarSet})})})}configureRibbonIcons(){var n;(n=this.ribbonEl)==null||n.detach();let r=this.calendarSetManager.getActiveGranularities();if(r.length){let i=r[0],o=K[i];this.ribbonEl=this.addRibbonIcon(`calendar-${i}`,o.labelOpenPresent,a=>{a.type!=="auxclick"&&this.openPeriodicNote(i,window.moment(),{inNewSplit:Pn(a)})}),this.ribbonEl.addEventListener("contextmenu",a=>{a.preventDefault(),wm(this.app,this,{x:a.pageX,y:a.pageY})})}}configureCommands(){this.calendarSetManager.getInactiveGranularities().forEach(r=>{Vi(this.app,this,r).forEach(n=>this.app.commands.removeCommand(`periodic-notes:${n.id}`))}),this.calendarSetManager.getActiveGranularities().forEach(r=>{Vi(this.app,this,r).forEach(this.addCommand.bind(this))})}loadSettings(){return te(this,null,function*(){let r=yield this.loadData(),n=Object.assign({},lm,r||{});this.settings.set(n),(!n.calendarSets||n.calendarSets.length===0)&&(rf(n)?this.settings.update(De(Re,of(n))):un(app)?this.settings.update(De(Re,nf(n))):this.settings.update(De(Re,{day:Ar(ht({},Ze),{enabled:!0})})),this.settings.update(Ke(Re)))})}onUpdateSettings(r){return te(this,null,function*(){yield this.saveData(r),this.configureCommands(),this.configureRibbonIcons(),this.app.workspace.trigger("periodic-notes:settings-updated")})}createPeriodicNote(r,n){return te(this,null,function*(){let i=this.calendarSetManager.getActiveConfig(r),o=this.calendarSetManager.getFormat(r),a=n.format(o),s=yield go(this.app,i.templatePath),l=mo(a,r,n,o,s),c=yield pm(this.app,a,i);return this.app.vault.create(c,l)})}getPeriodicNote(r,n){return this.cache.getPeriodicNote(this.calendarSetManager.getActiveId(),r,n)}getPeriodicNotes(r,n,i=!1){return this.cache.getPeriodicNotes(this.calendarSetManager.getActiveId(),r,n,i)}isPeriodic(r,n){return this.cache.isPeriodic(r,n)}findAdjacent(r,n,i){return this.cache.findAdjacent(r,n,i)}findInCache(r){return this.cache.find(r)}openPeriodicNote(r,n,i){return te(this,null,function*(){let{inNewSplit:o=!1,calendarSet:a}=i!=null?i:{},{workspace:s}=this.app,l=this.cache.getPeriodicNote(a!=null?a:this.calendarSetManager.getActiveId(),r,n);l||(l=yield this.createPeriodicNote(r,n)),yield(o?s.splitActiveLeaf():s.getUnpinnedLeaf()).openFile(l,{active:!0})})}};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
